import{z as Wt,A as Xt,B as Ut,p as V,c as R,e as We,q as lt,D as vt,o as j,k as I,u as x,F as ce,a as je,b as me,E as Ce,w as z,G as te,H as ne,n as pe,g as Ve,h as q,l as we,t as ve,T as Ze,I as Te,J as Oe,K as Fe,y as ft,v as re,L as qe,i as st,r as ie,M as Xe,N as Kt,s as _e,O as gt,j as mt,_ as U,Q as pt}from"./app-C7qftLuf.js";import{a as Qt}from"./aos-CJZ3rAtI.js";/**
  * vue-cal v5.0.1-rc.21
  * (c) 2024-2025 Antoni Andre <antoniandre.web@gmail.com>
  * @license MIT
  */const De={texts:{weekDays:Array(7).fill(""),weekDaysShort:[],months:Array(12).fill(""),years:"",year:"",month:"",week:"",day:"",today:"",noEvent:"",allDay:"",deleteEvent:"",createEvent:"",dateFormat:"dddd MMMM D, YYYY",am:"am",pm:"pm",truncations:!0},availableViews:{day:{cols:1,rows:1},days:{cols:10,rows:1},week:{cols:7,rows:1},month:{cols:7,rows:6},year:{cols:4,rows:3},years:{cols:5,rows:5}}},qt=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],Ge=["sun","mon","tue","wed","thu","fri","sat"],Gt=Ge.reduce((c,e,t)=>(c[e]=t||7,c),{}),Zt=(c,e,t)=>{const{dateUtils:a}=c,s=!1,r=V(()=>{if(y.value[e.view])return e.view;const k=e.datePicker?"month":"week",T=e.view||k;return y.value[T]?T:(console.warn(`Vue Cal: the provided or default view \`${T}\` is either invalid or not in the list of available views. The first available view will be chosen: \`${Object.keys(y.value)[0]}\`.`),Object.keys(y.value)[0])}),g=V(()=>e.sm&&!e.xs),f=V(()=>e.xs||e.datePicker),_=V(()=>e.clickToNavigate||e.datePicker&&e.clickToNavigate!==!1),v=V(()=>{const k={cell:{},event:{}},T=M=>M.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(const[M,m]of Object.entries(t)){const[N,ee,ae]=M.match(/^on(Cell|Event)(.+)$/)||[];N&&(k[ee.toLowerCase()][T(ae).replace(/^-+|-+$/g,"")]=m)}return k}),l=V(()=>{var k;const T={};return e.hideWeekends&&(T[6]=!0)&&(T[7]=!0),(k=e.hideWeekdays)!=null&&k.length&&e.hideWeekdays.forEach(M=>T[Gt[M]]=!0),T}),o=V(()=>e.hideWeekends||l.value[6]&&l.value[7]),y=V(()=>{const k=e.datePicker;let T=0,M={};const m=e.views;return k&&!m?{month:{...De.availableViews.month},year:{...De.availableViews.year},years:{...De.availableViews.years}}:(m?(Array.isArray(m)?M=m.reduce((N,ee)=>(typeof ee=="string"&&De.availableViews[ee]?N[ee]=De.availableViews[ee]:T++,N),{}):typeof m=="object"&&(M=Object.entries(m).reduce((N,[ee,ae])=>{const{cols:se,rows:fe}=De.availableViews[ee];return N[ee]={cols:ae.cols||se,rows:ae.rows||fe},N},{})),T&&console.warn("Vue Cal: the provided `views` prop contains invalid views that will be ignored."),Object.keys(M).length||(console.warn("Vue Cal: No valid view in the provided `views` prop. Falling back to default views."),M={...De.availableViews})):M={...De.availableViews},M)}),n=V(()=>e.datePicker?"month":y.value.week?"week":Object.keys(y.value)[0]),w=V(()=>{if(typeof e.selectedDate=="string")return a.stringToDate(e.selectedDate);if(e.selectedDate instanceof Date)return e.selectedDate;e.selectedDate?console.warn("Vue Cal: The provided selected date is invalid:",e.selectedDate):console.log("Vue Cal: Info - The provided selected date is undefined.")}),i=V(()=>{if(!e.disableDays)return[];const k=[];if(Array.isArray(e.disableDays))for(let T of e.disableDays){let M=T;typeof T=="string"?M=a.stringToDate(T):T instanceof Date&&(T=a.formatDate(T,"YYYY-MM-DD")),M instanceof Date&&!isNaN(M.getTime())?k.push(T):console.warn("Vue Cal: The provided `disableDays` prop contains an invalid date:",T)}else console.warn("Vue Cal: The provided `disableDays` prop is invalid:",e.disableDays);return k}),u=V(()=>{let k=null;return e.minDate&&typeof e.minDate=="string"?k=a.stringToDate(e.minDate):e.minDate&&e.minDate instanceof Date&&(k=e.minDate),(k==null?void 0:k.getTime())||null}),O=V(()=>{let k=null;return e.maxDate&&typeof e.maxDate=="string"?k=a.stringToDate(e.maxDate):e.maxDate&&e.maxDate instanceof Date&&(k=e.maxDate),(k==null?void 0:k.getTime())||null}),D=V(()=>{var k;const{view:T}=c;return e.schedules.length&&(T.isDay||T.isDays||T.isWeek)&&((k=e.schedules)==null?void 0:k.map((M,m)=>({...M,id:M.id??m+1})))||void 0}),A=V(()=>{const k={drag:!0,resize:!0,delete:!0,create:!0};return e.editableEvents===!0?k:e.editableEvents===!1?Object.keys(k).map(T=>k[T]=!1):{...k,...e.editableEvents}}),F=V(()=>{const{view:k}=c,{eventCount:T}=e;return(Array.isArray(T)?T.includes(k.id):T)&&(k.isMonth&&!e.eventsOnMonthView||k.isYear)}),X=V(()=>e.allDayEvents&&e.time!==!1&&!r.isMonth),$=V(()=>e.timeAtCursor&&e.time!==!1),E=async k=>{var T;let M=Object.assign({"../i18n/ar.json":()=>U(()=>import("./ar-BXH_agl_.js"),[]).then(m=>m.default),"../i18n/bg.json":()=>U(()=>import("./bg-Dk2kKndK.js"),[]).then(m=>m.default),"../i18n/bn.json":()=>U(()=>import("./bn-B0HAQiSA.js"),[]).then(m=>m.default),"../i18n/bs.json":()=>U(()=>import("./bs-BuQoEf5_.js"),[]).then(m=>m.default),"../i18n/ca.json":()=>U(()=>import("./ca-DDLO_N2l.js"),[]).then(m=>m.default),"../i18n/cs.json":()=>U(()=>import("./cs-CV02OknX.js"),[]).then(m=>m.default),"../i18n/da.json":()=>U(()=>import("./da-Cr-qAOlm.js"),[]).then(m=>m.default),"../i18n/de.json":()=>U(()=>import("./de-DnF59oPG.js"),[]).then(m=>m.default),"../i18n/el.json":()=>U(()=>import("./el-Bm132Uw5.js"),[]).then(m=>m.default),"../i18n/en-gb.json":()=>U(()=>import("./en-gb-D9pilvfS.js"),[]).then(m=>m.default),"../i18n/en-us.json":()=>Promise.resolve().then(()=>aa).then(m=>m.default),"../i18n/es.json":()=>U(()=>import("./es-BaKlVgsI.js"),[]).then(m=>m.default),"../i18n/et.json":()=>U(()=>import("./et-BVIB8aWq.js"),[]).then(m=>m.default),"../i18n/fa.json":()=>U(()=>import("./fa-HUPDymj6.js"),[]).then(m=>m.default),"../i18n/fi.json":()=>U(()=>import("./fi-a0XiP8th.js"),[]).then(m=>m.default),"../i18n/fr.json":()=>U(()=>import("./fr-GTRaGPvD.js"),[]).then(m=>m.default),"../i18n/he.json":()=>U(()=>import("./he-D9QTYzop.js"),[]).then(m=>m.default),"../i18n/hr.json":()=>U(()=>import("./hr-DjeBZALq.js"),[]).then(m=>m.default),"../i18n/hu.json":()=>U(()=>import("./hu-BoNTcwgW.js"),[]).then(m=>m.default),"../i18n/id.json":()=>U(()=>import("./id-Byo-Qu58.js"),[]).then(m=>m.default),"../i18n/is.json":()=>U(()=>import("./is-DR7kMFsB.js"),[]).then(m=>m.default),"../i18n/it.json":()=>U(()=>import("./it-BAAppVsi.js"),[]).then(m=>m.default),"../i18n/ja.json":()=>U(()=>import("./ja-D9RSv2C7.js"),[]).then(m=>m.default),"../i18n/ka.json":()=>U(()=>import("./ka-DRL_jZpQ.js"),[]).then(m=>m.default),"../i18n/ko.json":()=>U(()=>import("./ko-B8cxB_L-.js"),[]).then(m=>m.default),"../i18n/lt.json":()=>U(()=>import("./lt-Bp1gTT3o.js"),[]).then(m=>m.default),"../i18n/mn.json":()=>U(()=>import("./mn-BthU56z3.js"),[]).then(m=>m.default),"../i18n/nl.json":()=>U(()=>import("./nl-CPTZTpPP.js"),[]).then(m=>m.default),"../i18n/no.json":()=>U(()=>import("./no-OK10L1w0.js"),[]).then(m=>m.default),"../i18n/pl.json":()=>U(()=>import("./pl-CBOjXFX5.js"),[]).then(m=>m.default),"../i18n/pt-br.json":()=>U(()=>import("./pt-br-CjBjWCgZ.js"),[]).then(m=>m.default),"../i18n/pt-pt.json":()=>U(()=>import("./pt-pt-CjBjWCgZ.js"),[]).then(m=>m.default),"../i18n/ro.json":()=>U(()=>import("./ro-CQUcfptT.js"),[]).then(m=>m.default),"../i18n/ru.json":()=>U(()=>import("./ru-Cju6GOcm.js"),[]).then(m=>m.default),"../i18n/sk.json":()=>U(()=>import("./sk-D30NYlLf.js"),[]).then(m=>m.default),"../i18n/sl.json":()=>U(()=>import("./sl-CQIHvUFO.js"),[]).then(m=>m.default),"../i18n/sq.json":()=>U(()=>import("./sq-DB3znjJe.js"),[]).then(m=>m.default),"../i18n/sr.json":()=>U(()=>import("./sr-Dt2MmSh-.js"),[]).then(m=>m.default),"../i18n/sv.json":()=>U(()=>import("./sv-Dmk0KaMD.js"),[]).then(m=>m.default),"../i18n/tr.json":()=>U(()=>import("./tr--KL62sVl.js"),[]).then(m=>m.default),"../i18n/uk.json":()=>U(()=>import("./uk-Cv9MmFCY.js"),[]).then(m=>m.default),"../i18n/vi.json":()=>U(()=>import("./vi-CUKP067g.js"),[]).then(m=>m.default),"../i18n/zh-cn.json":()=>U(()=>import("./zh-cn-CWIl1ph-.js"),[]).then(m=>m.default),"../i18n/zh-hk.json":()=>U(()=>import("./zh-hk-D_OeDm8L.js"),[]).then(m=>m.default)});{if(!M[`../i18n/${k}.json`]){console.warn(`Vue Cal: the locale \`${k}\` does not exist. Falling back to \`en-us\`.`),k="en-us";return}M=await((T=M[`../i18n/${k}.json`])==null?void 0:T.call(M))}c.texts=Object.assign(c.texts,Object.assign({...De.texts},M)),a.updateTexts(c.texts)},C=Oe(e.events||[]);return _e(()=>e.events,k=>C.splice(0,C.length,...k)),_e(()=>e.locale,k=>E(k||"en-us")),(e.locale||!c.texts.today)&&E(e.locale||"en-us"),{...Kt(e),events:C,eventListeners:v,defaultView:n,availableViews:y,disableDays:i,ready:s,sm:g,xs:f,clickToNavigate:_,hideWeekdays:l,hideWeekends:o,minTimestamp:u,maxTimestamp:O,schedules:D,selectedDate:w,editableEvents:A,showCellEventCount:F,allDayEvents:X,timeAtCursor:$,view:r,get hasHiddenDays(){return Object.keys(l.value).length},get size(){return f.value?"xs":g.value?"sm":"lg"},loadTexts:E}},Ie=(c,e)=>{const t=e.timeTo-e.timeFrom;return(c-e.timeFrom)*100/t},Re=(c,e)=>{const t=e.timeTo-e.timeFrom;return~~(c*t/100+e.timeFrom)},ct=(c,e)=>{const t=e.clientHeight;return c*100/t},Ke=Oe({id:null,date:null});let ht=!1,Je=!0;const be=Oe({el:null,cell:null,timeout:null}),ke=Oe({eventId:null,fromVueCal:null,toVueCal:null});function Jt(c){const{config:e,view:t,eventsManager:a,emit:s,uid:r,dateUtils:g}=c,f=l=>{var o;const{timeStep:y,timeCellHeight:n,timeFrom:w}=e,i=(((o=l.touches)==null?void 0:o[0])||l).clientY,{top:u}=l.currentTarget.getBoundingClientRect(),O=i-u-~~l.dataTransfer.getData("cursor-grab-at");return Re(ct(O,l.currentTarget),e)},_=(l,o,y)=>{const n=o.duration||v(o.start,o.end)||e.timeStep;let w=Math.max(f(l),0);if(e.snapToInterval){const D=w+e.snapToInterval/2;w=D-D%e.snapToInterval}const i=new Date(new Date(y).setMinutes(w)),u=Math.min(w+n,24*60),O=new Date(new Date(y).setMinutes(u));return{start:i,end:O}},v=(l,o)=>Math.round((o-l)/6e4);return{eventDragStart:(l,o)=>{if(l.target.nodeType===3||c.touch.isResizingEvent)return l.preventDefault();l.dataTransfer.effectAllowed="move",l.dataTransfer.dropEffect="move";const y={...o,_:{id:o._.id,duration:v(o.start,o.end)}};try{l.dataTransfer.setData("text/plain",""),l.dataTransfer.setData("event",JSON.stringify(y)),l.dataTransfer.setData("cursor-grab-at",l.offsetY)}catch(w){return console.warn("Vue Cal: Failed to set drag data:",w),l.preventDefault()}ke.eventId=o._.id,ke.fromVueCal=r,s("event-drag-start",{e:l,event:o});const n=l.target.closest(".vuecal__event");n.classList.add("vuecal__event--dragging-ghost"),setTimeout(()=>{n.classList.add("vuecal__event--dragging-original"),n.classList.remove("vuecal__event--dragging-ghost")},0),ht=!1,Object.assign(Ke,{id:t.id,date:t.firstCellDate}),Je=!0,c.touch.isDraggingEvent=!0},eventDragEnd:(l,o)=>{ke.eventId=null,l.target.closest(".vuecal__event").classList.remove("vuecal__event--dragging-original");const{fromVueCal:y,toVueCal:n}=ke;n&&y!==n&&a.deleteEvent(o._.id,3),ht&&Je&&Ke.id&&t.switchView(Ke.id,Ke.date,!0),s("event-drag-end",{e:l,event:o,external:ke.fromVueCal!==r}),ke.fromVueCal=null,ke.toVueCal=null,c.touch.isDraggingEvent=!1},cellDragEnter:(l,o)=>{const{start:y}=o,n=l.currentTarget;if(!l.currentTarget.contains(l.relatedTarget)){if(n===be.el||!n.className.includes("vuecal__cell-content"))return!1;be.el&&(be.cell.highlighted=!1),Object.assign(be,{el:n,cell:o,timeout:clearTimeout(be.timeout)}),o.highlighted=!0,["years","year","month"].includes(t.id)&&(be.timeout=setTimeout(()=>c.switchToNarrowerView(y),2e3))}},cellDragOver:(l,o)=>{const{start:y,schedule:n}=o;l.preventDefault(),o.highlighted=!0,(n||n===0)&&(o.highlightedSchedule=n)},cellDragLeave:(l,o)=>{l.preventDefault(),!l.currentTarget.contains(l.relatedTarget)&&(o.highlightedSchedule=!1,be.cell===o&&(clearTimeout(be.timeout),Object.assign(be,{el:null,cell:null,timeout:null}),o.highlighted=!1))},cellDragDrop:async(l,o,y=!1)=>{var n,w,i;l.preventDefault(),clearTimeout(be.timeout),Object.assign(be,{el:null,cell:null,timeout:null});const u=JSON.parse(l.dataTransfer.getData("event")||"{}");u.start&&(u.start=new Date(u.start)),u.end&&(u.end=new Date(u.end));let O,D,A;y?(D=new Date(o.start),A=new Date(o.end)):{start:D,end:A}=_(l,u,o.start);const{schedule:F}=((n=l.target.closest("[data-schedule]"))==null?void 0:n.dataset)||{};let X=()=>{};ke.fromVueCal===r?(O=a.getEvent(u._.id),O&&(O._.dragging=!1,X=C=>{if(O.start=D,O.end=A,O.allDay=y,F!==void 0&&(O.schedule=~~F),C&&typeof C=="object"){const{_:k,...T}=C;Object.assign(O,T)}})):(O={...u,start:D,end:A,...F!==void 0&&{schedule:~~F},_:{id:((w=u._)==null?void 0:w.id)||u.id,duration:v(D,A)},getOverlappingEvents:()=>a.getEventsInRange(D,A,{schedule:~~F})},X=C=>{if(O=a.createEvent(O),C&&typeof C=="object"){const{_:k,...T}=C;Object.assign(O,T)}});let $=!0;const{drop:E}=(i=e.eventListeners)==null?void 0:i.event;E&&($=await E({e:l,event:{...O,start:D,end:A,schedule:~~F},overlaps:O.getOverlappingEvents({start:D,end:A,schedule:~~F}),cell:o,external:ke.fromVueCal!==r})),$!==!1&&X($),o.highlighted=!1,o.highlightedSchedule=null,Je=!1,ke.toVueCal=r,s("event-dropped",{e:l,cell:o,event:O,originalEvent:u,external:ke.fromVueCal!==r})}}}const Dt=(c,e)=>{let t,a,s,r={},g={};const f=ie(c),_=()=>{f.value.today||(f.value=e),Date.prototype.addDays=function(d){return y(this,d||0)},Date.prototype.subtractDays=function(d){return n(this,d||0)},Date.prototype.addHours=function(d){return w(this,d||0)},Date.prototype.subtractHours=function(d){return i(this,d||0)},Date.prototype.addMinutes=function(d){return u(this,d||0)},Date.prototype.subtractMinutes=function(d){return O(this,d||0)},Date.prototype.getWeek=function(){return A(this)},Date.prototype.isToday=function(){return F(this)},Date.prototype.isLeapYear=function(){return E(this)},Date.prototype.format=function(d="YYYY-MM-DD"){return ee(this,d)},Date.prototype.formatTime=function(d="HH:mm"){return se(this,d)}},v=()=>{delete Date.prototype.addDays,delete Date.prototype.subtractDays,delete Date.prototype.addHours,delete Date.prototype.subtractHours,delete Date.prototype.addMinutes,delete Date.prototype.subtractMinutes,delete Date.prototype.getWeek,delete Date.prototype.isToday,delete Date.prototype.isLeapYear,delete Date.prototype.format,delete Date.prototype.formatTime},l=d=>{f.value=d,Date.prototype.subtractDays&&_()},o=()=>(a!==new Date().getDate()&&(t=new Date,a=t.getDate(),s=`${t.getFullYear()}-${t.getMonth()}-${t.getDate()}`),s),y=(d,S)=>{const b=new Date(d.valueOf());return b.setDate(b.getDate()+S),b},n=(d,S)=>{const b=new Date(d.valueOf());return b.setDate(b.getDate()-S),b},w=(d,S)=>{const b=new Date(d.valueOf());return b.setHours(b.getHours()+S),b},i=(d,S)=>{const b=new Date(d.valueOf());return b.setHours(b.getHours()-S),b},u=(d,S)=>{const b=new Date(d.valueOf());return b.setMinutes(b.getMinutes()+S),b},O=(d,S)=>{const b=new Date(d.valueOf());return b.setMinutes(b.getMinutes()-S),b},D=(d,S)=>{const b=B=>{const le=B%S;return le!==0&&(B+=le>=S/2?S-le:-le),B};if(typeof d=="number")return b(d);if(d instanceof Date){let B=b(d.getMinutes());B>=60&&(d.setHours(d.getHours()+1),B=0),d.setMinutes(B,0,0)}},A=(d,S=!1)=>{const b=new Date(Date.UTC(d.getFullYear(),d.getMonth(),d.getDate())),B=b.getUTCDay()||7;b.setUTCDate(b.getUTCDate()+4-B);const le=new Date(Date.UTC(b.getUTCFullYear(),0,1));return Math.ceil(((b-le)/864e5+1)/7)+(S?1:0)},F=d=>`${d.getFullYear()}-${d.getMonth()}-${d.getDate()}`===o(),X=(d,S)=>{if(!d||!S)return console.warn(`Vue Cal: missing date${d?"2":"1"} parameter for comparison with \`isSameDate(date1, date2)\`.`);if(N(d)){if(!N(S))return console.warn(`Vue Cal: invalid date2 provided for comparison with \`isSameDate(date1, date2)\`: \`${S}\`.`)}else return console.warn(`Vue Cal: invalid date1 provided for comparison with \`isSameDate(date1, date2)\`: \`${d}\`.`);return d.getFullYear()===S.getFullYear()&&d.getMonth()===S.getMonth()&&d.getDate()===S.getDate()},$=(d,S,b)=>N(d)?d.getTime()>=S&&d.getTime()<=b:console.warn(`Vue Cal: invalid date provided to \`isInRange(date, rangeStart, rangeEnd)\`: \`${d}\`.`),E=d=>{const S=d.getFullYear();return!(S%400)||S%100&&!(S%4)},C=(d=null,S)=>{const b=d&&new Date(d.valueOf())||new Date,B=S?7:6;return b.setDate(b.getDate()-(b.getDay()+B)%7),b},k=d=>d instanceof Date?d:(d.length===10&&(d+=" 00:00"),new Date(d.replace(/-/g,"/"))),T=d=>d.getHours()*60+d.getMinutes(),M=(d,S)=>{typeof d=="string"&&(d=d.replace(/-/g,"/")),typeof S=="string"&&(S=S.replace(/-/g,"/")),d=new Date(d).setHours(0,0,0,0),S=new Date(S).setHours(0,0,1,0);const b=(new Date(S).getTimezoneOffset()-new Date(d).getTimezoneOffset())*60*1e3;return Math.ceil((S-d-b)/(24*3600*1e3))},m=(d,S,b)=>Math.abs(d.getTime()-S.getTime())<=b*60*1e3,N=d=>d&&d instanceof Date&&!isNaN(d),ee=(d,S="YYYY-MM-DD",b=null)=>{if(b||(b=f.value),S||(S="YYYY-MM-DD"),S==="YYYY-MM-DD")return ae(d);r={},g={};const B={YYYY:()=>J(d,b).YYYY,YY:()=>J(d,b).YY(),M:()=>J(d,b).M,MM:()=>J(d,b).MM(),MMM:()=>J(d,b).MMM(),MMMM:()=>J(d,b).MMMM(),MMMMG:()=>J(d,b).MMMMG(),D:()=>J(d,b).D,DD:()=>J(d,b).DD(),S:()=>J(d,b).S(),d:()=>J(d,b).d,dd:()=>J(d,b).dd(),ddd:()=>J(d,b).ddd(),dddd:()=>J(d,b).dddd(),HH:()=>de(d,b).HH,H:()=>de(d,b).H,hh:()=>de(d,b).hh,h:()=>de(d,b).h,am:()=>de(d,b).am,AM:()=>de(d,b).AM,mm:()=>de(d,b).mm,m:()=>de(d,b).m,s:()=>de(d,b).s};return S.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(le,ue)=>{const h=B[ue.replace(/\{|\}/g,"")];return h!==void 0?h():ue})},ae=d=>{const S=d.getMonth()+1,b=d.getDate();return`${d.getFullYear()}-${S<10?"0":""}${S}-${b<10?"0":""}${b}`},se=(d,S="HH:mm",b=null,B=!1)=>{let le=!1;if(B){const[L,P,Y]=[d.getHours(),d.getMinutes(),d.getSeconds()];L+P+Y===141&&(le=!0)}if(d instanceof Date&&S==="HH:mm")return le?"24:00":fe(d);g={},b||(b=f.value);const ue=de(d,b),h=S.replace(/(\{[a-zA-Z]+\}|[a-zA-Z]+)/g,(L,P)=>{const Y=ue[P.replace(/\{|\}/g,"")];return Y!==void 0?Y:P});return le?h.replace("23:59","24:00"):h},fe=d=>{const S=d.getHours(),b=d.getMinutes();return`${(S<10?"0":"")+S}:${(b<10?"0":"")+b}`},Q=d=>{const S=Math.floor(d/60).toString().padStart(2,0),b=(d%60).toString().padStart(2,0);return`${S}:${b}`},Pe=d=>{if(d>3&&d<21)return"th";switch(d%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},J=(d,S)=>{if(r.D)return r;const b=d.getFullYear(),B=d.getMonth()+1,le=d.getDate(),ue=(d.getDay()-1+7)%7;return r={YYYY:b,YY:()=>b.toString().substring(2),M:B,MM:()=>B.toString().padStart(2,0),MMM:()=>S.months[B-1].substring(0,3),MMMM:()=>S.months[B-1],MMMMG:()=>(S.monthsGenitive||S.months)[B-1],D:le,DD:()=>le.toString().padStart(2,0),S:()=>Pe(le),d:ue+1,dd:()=>S.weekDaysShort.length?S.weekDaysShort[ue]:S.weekDays[ue][0],ddd:()=>S.weekDaysShort.length?S.weekDaysShort[ue]:S.weekDays[ue].substr(0,3),dddd:()=>S.weekDays[ue]},r},de=(d,S)=>{if(g.am)return g;let b,B,le;d instanceof Date?(b=d.getHours(),B=d.getMinutes(),le=d.getSeconds()):(b=Math.floor(d/60),B=Math.floor(d%60));const ue=b%12?b%12:12,h=(S||{am:"am",pm:"pm"})[b===24||b<12?"am":"pm"];return g={H:b,h:ue,HH:b.toString().padStart(2,0),hh:ue.toString().padStart(2,0),am:h,AM:h.toUpperCase(),m:B,mm:B.toString().padStart(2,0),s:le},g};return{addDatePrototypes:_,removeDatePrototypes:v,updateTexts:l,addDays:y,subtractDays:n,addHours:w,subtractHours:i,addMinutes:u,subtractMinutes:O,snapToInterval:D,getWeek:A,isToday:F,isSameDate:X,isInRange:$,isLeapYear:E,getPreviousFirstDayOfWeek:C,stringToDate:k,dateToMinutes:T,countDays:M,datesInSameTimeStep:m,isValid:N,formatDate:ee,formatDateLite:ae,formatTime:se,formatTimeLite:fe,formatMinutes:Q}},ea=c=>{const{dateUtils:e,config:t}=c;let a=0;const s=V(()=>{const n={byYear:{},byDate:{},recurring:[],multiday:[],byId:{}},w=t.events.sort((i,u)=>i.start-u.start<0?-1:1);for(const i of w)if(r(i),g(i),n.byId[i._.id]=i,i.recurring)n.recurring.push(i._.id);else if(i._.multiday)n.multiday.push(i._.id),n.byDate[i._.startFormatted]||(n.byDate[i._.startFormatted]=[]),n.byDate[i._.startFormatted].push(i._.id);else{n.byDate[i._.startFormatted]||(n.byDate[i._.startFormatted]=[]),n.byDate[i._.startFormatted].push(i._.id);const u=i._.startFormatted.substring(0,4),O=i._.startFormatted.substring(5,7),D=i._.startFormatted.substring(8,10);n.byYear[u]||(n.byYear[u]={}),n.byYear[u][O]||(n.byYear[u][O]={}),n.byYear[u][O][D]||(n.byYear[u][O][D]=[]),n.byYear[u][O][D].push(i._.id)}return n}),r=n=>{if(typeof n.start=="string"&&(n.start=e.stringToDate(n.start)),typeof n.end=="string"&&(n.end=e.stringToDate(n.end)),n.start.setSeconds(0,0),n.end.getSeconds()>=59?n.end.setMinutes(60,0,0):n.end.setSeconds(0,0),isNaN(n.start)||isNaN(n.end)||n.end.getTime()<n.start.getTime()){isNaN(n.start)?console.error(`Vue Cal: invalid start date for event "${n.title}".`,n.start):isNaN(n.end)?console.error(`Vue Cal: invalid end date for event "${n.title}".`,n.end):console.error(`Vue Cal: invalid event dates for event "${n.title}". The event ends before it starts.`,n.start,n.end);return}n._||(n._={}),n._.multiday=!e.isSameDate(n.start,new Date(n.end.getTime()-1)),n._.startFormatted=e.formatDate(n.start),n._.startMinutes=~~e.dateToMinutes(n.start),n._.endMinutes=~~e.dateToMinutes(n.end);const w=n.start.getHours(),i=n.start.getMinutes().toString().padStart(2,0),u=n.end.getHours(),O=n.end.getMinutes().toString().padStart(2,0);n._.startTimeFormatted24=`${w.toString().padStart(2,0)}:${i}`,n._.startTimeFormatted12=`${w%12||12}${i?`:${i}`:""} ${w<12?"AM":"PM"}`,n._.endTimeFormatted24=`${u.toString().padStart(2,0)}:${O}`,n._.endTimeFormatted12=`${u%12||12}${O?`:${O}`:""} ${u<12?"AM":"PM"}`,n._.duration=Math.abs(~~((n.end-n.start)/6e4))},g=n=>{n._||(n._={}),n._.id=n._.id||++a,n.delete||(n.delete=w=>l(n._.id,w)),n._.deleting=!1,n._.deleted=!1,n.isOverlapping=(w=null)=>n.getOverlappingEvents(w).length,n.getOverlappingEvents=(w=null)=>{var i;return y((w==null?void 0:w.start)||n.start,(w==null?void 0:w.end)||n.end,{excludeIds:[n._.id],schedule:(i=t.schedules)!=null&&i.length?~~((w==null?void 0:w.schedule)||n.schedule):null})},n._.register=w=>{n._.$el=w,n._.fireCreated&&(c.emit("event-created",n),delete n._.fireCreated)},n._.unregister=()=>{n._.$el=null,n._.register=null,n.isOverlapping=null,n.getOverlappingEvents=null,n.delete=null}},f=n=>s.value.byId[n],_=n=>{const w=[];for(const{start:i,end:u}of n){const O=y(i,u);O.length&&w.push(...O)}return w},v=n=>{if(!n.start||!n.end){console.error("Vue Cal: Cannot create an event without valid start and end dates.");return}return t.snapToInterval&&(e.snapToInterval(n.start,t.snapToInterval),e.snapToInterval(n.end,t.snapToInterval)),n={...n},n._||(n._={}),n._.id=++a,n._.fireCreated=!0,t.events.push(n),n},l=async(n,w=0)=>{var i,u;if(!n)return console.warn("Vue Cal: Cannot delete event without its ID or criteria.");let O=typeof n=="string"||!isNaN(n)?n:null;const D=typeof n=="object"?Object.entries(n):null;if(D){const[X,$]=D[0];O=(i=t.events.find(E=>E[X]===$))==null?void 0:i._.id}if(!t.editableEvents.delete)return console.info("Vue Cal: Event deletion is disabled. Enable it with the `editable-events` props.");if(!O)return console.warn("Vue Cal: Cannot delete event without its ID.");const A=t.events.findIndex(X=>X._.id===O);if(A===-1)return console.warn(`Vue Cal: Cannot delete unknown event \`${O}\`.`);const F=t.events[A];if(F.deletable===!1)return console.warn(`Vue Cal: Can't delete event \`${O}\` since it was explicitely set to \`delete: false\`.`);switch(w){case 0:F._.deleting?t.events.splice(A,1):F._.deleting=!0;break;case 1:F._.deleting=!0;break;case 2:F._.deleted=!0,t.events[A]._.deleted=!0,(u=F._.$el)==null||u.dispatchEvent(new CustomEvent("event-deleted",{detail:F._.id}));break;case 3:t.events.splice(A,1),c.emit("update:events",t.events),c.emit("event-delete",F);break}return!0},o=(n,w)=>{const i=t.allDayEvents?{allDay:!0}:{},u=y(n,w,{background:!1,...i});if(!u.length)return{cellOverlaps:{},longestStreak:0};const O={};let D=[],A=0;u.sort((F,X)=>F.start-X.start||F.end-F.start-(X.end-X.start));for(const F of u){const X=F._.id;O[X]||(O[X]={overlaps:new Set,maxConcurrent:1,position:0}),D=D.filter(T=>T.end>F.start);const $=D.filter(T=>{var M;return(!((M=t.schedules)!=null&&M.length)||F.schedule===T.schedule)&&T.start<F.end}),E=new Set($.map(T=>{var M;return((M=O[T._.id])==null?void 0:M.position)??0}));let C=0;for(;E.has(C);)C++;O[X].position=C,D.push(F);const k=Math.max(1,...$.map(T=>{var M;return((M=O[T._.id])==null?void 0:M.maxConcurrent)??1}));O[X].maxConcurrent=Math.max($.length+1,k);for(const T of $)O[T._.id].overlaps.add(X),O[X].overlaps.add(T._.id),O[T._.id].maxConcurrent=O[X].maxConcurrent;A=Math.max(A,O[X].maxConcurrent)}for(const F in O)O[F].overlaps=[...O[F].overlaps];return{cellOverlaps:O,longestStreak:A}},y=(n,w,{excludeIds:i=[],schedule:u=null,background:O=!0,allDay:D=!1}={})=>{const A=n.getFullYear(),F=w.getFullYear(),X=n.getMonth()+1,$=w.getMonth()+1,E=n.getDate(),C=w.getDate(),k=n.getTime(),T=w.getTime(),M=[],m=new Set(i);for(let N=A;N<=F;N++){const ee=`${N}`,ae=s.value.byYear[ee];if(!ae)continue;const se=N===A?X:1,fe=N===F?$:12;for(let Q=se;Q<=fe;Q++){const Pe=String(Q).padStart(2,"0"),J=ae[Pe];if(J)for(const de in J){const d=+de;if(N===A&&Q===X&&d<E||N===F&&Q===$&&d>C)continue;const S=J[de];for(let b=0;b<S.length;b++){const B=s.value.byId[S[b]];!B||m.has(B._.id)||u!==null&&u!==B.schedule||O===!1&&B.background||t.allDayEvents&&(D&&!B.allDay||!D&&B.allDay)||B.end.getTime()>k&&B.start.getTime()<T&&M.push(B)}}}}return M};return{events:s,getEvent:f,getViewEvents:_,getCellOverlappingEvents:o,getEventsInRange:y,createEvent:v,deleteEvent:l,isEventInRange:(n,w,i)=>{const u=n.allDay||!t.time,O=u?new Date(n.start).setHours(0,0,0,0):n.start.getTime(),D=u?new Date(n.end).setHours(23,59,59,999):n.end.getTime(),A=u?new Date(w).setHours(0,0,0,0):w.getTime(),F=u?new Date(i).setHours(23,59,59,999):i.getTime();return D>A&&O<F}}},ta=({config:c,dateUtils:e,emit:t,texts:a,eventsManager:s},r)=>{const{availableViews:g}=c,f=ie(c.view&&g[c.view]?c.view:c.defaultView),_=ie(c.selectedDate||null),v=ie(new Date),l=ie(new Date(c.viewDate||v.value));l.value.setHours(0,0,0,0);const o=ie(new Date(l));let y=null;const n=V(()=>f.value==="month"?o.value:E.value),w=V(()=>f.value==="month"?new Date(o.value.getFullYear(),o.value.getMonth()+1,0,23,59,59,999):k.value),i=V(()=>f.value==="week"?e.getPreviousFirstDayOfWeek(E.value,c.startWeekOnSunday):f.value==="month"?E.value:n.value),u=V(()=>{if(f.value==="week"){const p=e.addDays(i.value,7);return p.setMilliseconds(-1),p}return f.value==="month"?k.value:w.value}),O=V(()=>{const p=v.value.getTime();if(f.value==="week")return i.value.getTime()<=p&&p<=u.value.getTime();const W=E.value.getTime(),G=k.value.getTime();return W<=p&&p<=G});function D(){v.value=new Date,y=setTimeout(D,60*1e3)}function A(){y=setTimeout(D,(60-new Date().getSeconds())*1e3),D()}const F=V(()=>{if(!c.availableViews[f.value])return 1;let p=c.availableViews[f.value].cols;return c.hasHiddenDays&&["week","month"].includes(f.value)&&(p-=c.hasHiddenDays),p}),X=V(()=>{var p;return((p=c.availableViews[f.value])==null?void 0:p.rows)||1}),$=V(()=>F.value*X.value),E=V(()=>{if(f.value==="month"){let p=o.value.getDay()||7;return c.startWeekOnSunday&&!c.hideWeekdays[7]&&(p+=1),c.viewDayOffset&&(p-=c.viewDayOffset),e.subtractDays(o.value,p-1)}if(f.value==="week"){const p="1234567".split("").filter(G=>!Object.keys(c.hideWeekdays).includes(G));let W=Math.min(...p);return c.startWeekOnSunday&&!c.hideWeekdays[7]&&(W=1),c.viewDayOffset&&(W+=c.viewDayOffset),e.addDays(o.value,W-1)}return o.value}),C=V(()=>{const p=[],W=["days","week","month"].includes(f.value);let G=0;for(let Z=0;Z<$.value+G;Z++)switch(f.value){case"day":case"days":case"week":case"month":{const ye=e.addDays(E.value,Z),Be=ye.getDay()||7;if(W&&c.hasHiddenDays&&c.hideWeekdays[Be]){G++;continue}const Ae=new Date(ye);Ae.setHours(23,59,59,999),p.push({start:ye,startFormatted:e.formatDate(ye),end:Ae});break}case"year":p.push({start:new Date(E.value.getFullYear(),Z,1,0,0,0,0),end:new Date(E.value.getFullYear(),Z+1,0,23,59,59,999)});break;case"years":p.push({start:new Date(E.value.getFullYear()+Z,0,1,0,0,0,0),end:new Date(E.value.getFullYear()+Z+1,0,0,23,59,59,999)});break}return p}),k=V(()=>C.value[C.value.length-1].end),T=ie("right"),M=V(()=>{const p=Object.keys(c.availableViews);return p[p.indexOf(f.value)+1]}),m=V(()=>{const p=Object.keys(c.availableViews);return p[p.indexOf(f.value)-1]});function N(p,W,G=!1){if(!W||!W[p])return p+1;const Z=W[p];return G&&typeof Z=="string"?Z.substring(0,3):Z}function ee(p,W,G){const{monthsArray:Z,monthBeforeDay:ye,canTruncate:Be,xs:Ae}=G,Se=p.getMonth(),xe=p.getFullYear(),Ye=W.getMonth(),He=W.getFullYear(),Ue=Se!==Ye,Bt=xe!==He,$e=Be&&(Ae||Ue),ze=p.getDate(),Ne=W.getDate();return Bt?ye?`${N(Se,Z,$e)} ${ze}, ${xe} - ${N(Ye,Z,$e)} ${Ne}, ${He}`:`${ze} ${N(Se,Z,$e)} ${xe} - ${Ne} ${N(Ye,Z,$e)} ${He}`:Ue?ye?`${N(Se,Z,$e)} ${ze} - ${N(Ye,Z,$e)} ${Ne}, ${xe}`:`${ze} ${N(Se,Z,$e)} - ${Ne} ${N(Ye,Z,$e)} ${xe}`:ye?`${N(Se,Z,$e)} ${ze}-${Ne}, ${xe}`:`${ze}-${Ne} ${N(Se,Z,$e)} ${xe}`}const ae=V(()=>{const{dateFormat:p,months:W,monthsGenitive:G,week:Z,truncations:ye}=a,Be=c.locale,Ae=ye!==!1,Se=p.indexOf("M")<p.indexOf("D"),xe=G&&Be==="el"?G:W;switch(f.value){case"day":return e.formatDate(E.value,p);case"days":case"week":{const Ye={monthsArray:xe,monthBeforeDay:Se,canTruncate:Ae,xs:c.xs};let He=ee(E.value,k.value,Ye);if(f.value==="week"){const Ue=e.getWeek(E.value,c.startWeekOnSunday&&!c.hideWeekdays[7]);He+=` <small>${Z} ${Ue}</small>`}return He}case"month":{const Ye=`${c.xs&&Ae?"MMM":"MMMM"} YYYY`;return e.formatDate(n.value,Ye)}case"year":return E.value.getFullYear();case"years":return`${E.value.getFullYear()} - ${w.value.getFullYear()}`}});function se(){switch(o.value=new Date(l.value||v.value),o.value.setHours(0,0,0,0),f.value){case"day":break;case"days":break;case"week":o.value=e.getPreviousFirstDayOfWeek(o.value,c.startWeekOnSunday&&!c.hideWeekdays[7]);break;case"month":o.value=new Date(o.value.getFullYear(),o.value.getMonth(),1,0,0,0,0);break;case"year":o.value=new Date(o.value.getFullYear(),0,1,0,0,0,0);break;case"years":o.value=new Date(o.value.getFullYear()-o.value.getFullYear()%$.value,0,1,0,0,0,0);break}c.ready&&t("view-change",{id:f.value,title:ae.value,start:n.value,end:w.value,extendedStart:i.value,extendedEnd:u.value,cellDates:C.value,containsToday:O.value,events:K.value}),v.value=new Date}function fe(p){const W=f.value,G=c.availableViews[W];p[W]&&JSON.stringify(p[W])===JSON.stringify(G)||se()}function Q(p,W=!0){const G=Object.keys(c.availableViews);f.value!==p&&(G.includes(p)?(T.value=G.indexOf(p)<G.indexOf(f.value)?"left":"right",f.value=p,t("update:view",p),se()):console.warn(`Vue Cal: the \`${p}\` view is not available.`))}function Pe(){M.value?Q(M.value):console.warn("Vue Cal: no broader view is available.")}function J(){m.value?Q(m.value):console.warn("Vue Cal: no narrower view is available.")}function de(){S(!1)}function d(){S(!0)}function S(p=!0){let W=new Date(l.value);switch(f.value){case"day":case"days":p?W=e.addDays(k.value,1):W=e.subtractDays(E.value,$.value);break;case"week":{p?(W=e.addDays(u.value,1),W.setHours(0,0,0,0)):W=e.subtractDays(i.value,$.value);break}case"month":{const G=p?1:-1;W=new Date(W.getFullYear(),W.getMonth()+G,1,0,0,0,0);break}case"year":{const G=p?1:-1;W=new Date(W.getFullYear()+G,1,1,0,0,0,0);break}case"years":{const G=p?$.value:-$.value;W=new Date(W.getFullYear()+G,1,1,0,0,0,0);break}}B(W)}function b(){const p=new Date;p.setHours(0,0,0,0),B(p)}function B(p,W=!0,G=!1){if(!e.isValid(p))return console.warn("Vue Cal: can't navigate to the given date: invalid date provided to `updateViewDate(date)`.");let[Z,ye]=[E.value,k.value];f.value==="month"&&([Z,ye]=[n.value,w.value]),(!e.isInRange(p,Z,ye)||G)&&(p.setHours(0,0,0,0),T.value=p.getTime()<Z.getTime()?"left":"right",l.value=p,W&&t("update:viewDate",p),se())}function le(p,W=!0){if(!e.isValid(p))return console.warn("Vue Cal: can't update the selected date: invalid date provided to `updateSelectedDate(date)`.");const{isValid:G,isSameDate:Z}=e;(!_.value||!G(_.value)||!Z(p,_.value))&&(p.setHours(0,0,0,0),_.value=p,W&&t("update:selectedDate",p))}function ue(p){!p&&!o.value.getDay()?B(e.addDays(o.value,1),!0,!0):(T.value="left",se())}function h(p){p&&c.startWeekOnSunday&&!o.value.getDay()?B(e.addDays(o.value,1),!0,!0):!p&&c.startWeekOnSunday&&o.value.getDay()===1&&B(e.subtractDays(o.value,1),!0,!0)}function L(){console.log("toggling weekdays",c.hideWeekdays)}function P(p){var W;const G=(W=r.value)==null?void 0:W.querySelector(".vuecal__scrollable"),Z=p?p*c.timeCellHeight/c.timeStep:0;G==null||G.scrollTo({top:Z,behavior:"smooth"})}function Y(){const p=new Date;P(p.getHours()*60+p.getMinutes())}function H(){P(0)}const K=V(()=>s.getViewEvents(C.value)),ge=s.createEvent,he=s.deleteEvent;return _e(()=>c.view,p=>Q(p,!1)),_e(()=>c.availableViews,fe),_e(()=>c.datePicker,()=>Q("month",!1)),_e(()=>c.viewDate,p=>B(p,!1)),_e(()=>c.selectedDate,p=>le(p,!1)),_e(()=>c.startWeekOnSunday,p=>ue(p)),_e(()=>c.hideWeekends,p=>h(p)),_e(()=>c.hideWeekdays,L),_e(()=>$.value,()=>{$.value>90&&console.warn("Vue Cal: high cell count detected. Performance may degrade when interactions are enabled.")}),_e(()=>c.watchRealTime,p=>{p&&c.time?A():y=clearTimeout(y)}),se(),c.time&&c.watchRealTime&&A(),Xe(()=>y=clearTimeout(y)),{now:v,id:f,broaderView:M,narrowerView:m,title:ae,viewDate:l,start:n,end:w,extendedStart:i,extendedEnd:u,firstCellDate:E,lastCellDate:k,containsToday:O,selectedDate:_,cellDates:C,cols:F,rows:X,events:K,transitionDirection:T,switch:Q,broader:Pe,narrower:J,previous:de,next:d,navigate:S,goToToday:b,updateViewDate:B,updateSelectedDate:le,scrollToCurrentTime:Y,scrollToTime:P,scrollTop:H,createEvent:ge,deleteEvent:he,get isDay(){return f.value==="day"},get isDays(){return f.value==="days"},get isWeek(){return f.value==="week"},get isMonth(){return f.value==="month"},get isYear(){return f.value==="year"},get isYears(){return f.value==="years"}}},wt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],bt=["January","February","March","April","May","June","July","August","September","October","November","December"],kt="Years",Tt="Year",$t="Month",Et="Week",Mt="Days",Ot="Day",St="Today",xt="No Event",Yt="All-day",Vt="Delete",Pt="Create an event",jt="dddd, MMMM D, YYYY",Ct="am",At="pm",dt={weekDays:wt,months:bt,years:kt,year:Tt,month:$t,week:Et,days:Mt,day:Ot,today:St,noEvent:xt,allDay:Yt,deleteEvent:Vt,createEvent:Pt,dateFormat:jt,am:Ct,pm:At},aa=Object.freeze(Object.defineProperty({__proto__:null,allDay:Yt,am:Ct,createEvent:Pt,dateFormat:jt,day:Ot,days:Mt,default:dt,deleteEvent:Vt,month:$t,months:bt,noEvent:xt,pm:At,today:St,week:Et,weekDays:wt,year:Tt,years:kt},Symbol.toStringTag,{value:"Module"})),rt=Oe({texts:{...De.texts},dateUtils:Dt(De.texts,dt)}),na=({props:c,emit:e,attrs:t,vuecalEl:a,uid:s})=>{const r=Oe({uid:s,emit:e,texts:{...rt.texts},dateUtils:{...rt.dateUtils},now:new Date,config:{},eventsManager:{},view:{},dnd:{},touch:{isDraggingCell:!1,isDraggingEvent:!1,isResizingEvent:!1}});return r.dateUtils=Dt(Object.assign(De.texts,r.texts),dt),r.config=Zt(r,c,t),r.eventsManager=ea(r),r.view=ta(r,a),r.dnd=Jt(r),r},la=24*60,sa={allDayEvents:{type:Boolean,default:!1},stackEvents:{type:Boolean,default:!1},clickToNavigate:{type:Boolean,default:void 0},dark:{type:Boolean,default:!1},datePicker:{type:Boolean,default:!1},disableDays:{type:Array,default:()=>[]},editableEvents:{type:[Boolean,Object],default:!1},eventCreateMinDrag:{type:Number,default:15},events:{type:Array,default:()=>[]},eventCount:{type:[Boolean,Array],default:!1},eventsOnMonthView:{type:Boolean,default:!1},hideWeekdays:{type:Array,default:()=>[]},hideWeekends:{type:Boolean,default:!1},locale:{type:String,default:""},maxDate:{type:[String,Date],default:""},minDate:{type:[String,Date],default:""},selectedDate:{type:[String,Date],default:""},sm:{type:Boolean,default:!1},specialHours:{type:Object,default:()=>({})},schedules:{type:Array,default:()=>[]},snapToInterval:{type:Number,default:0},startWeekOnSunday:{type:Boolean,default:!1},theme:{type:[String,Boolean],default:"default"},time:{type:Boolean,default:!0},timeAtCursor:{type:Boolean,default:!1},timeCellHeight:{type:Number,default:40},timeFormat:{type:String,default:""},timeFrom:{type:Number,default:0},timeStep:{type:Number,default:60},timeTo:{type:Number,default:la},titleBar:{type:Boolean,default:!0},todayButton:{type:Boolean,default:!0},twelveHour:{type:Boolean,default:!1},view:{type:String,default:""},viewDate:{type:[String,Date],default:""},viewDayOffset:{type:Number,default:0},views:{type:[Array,Object]},viewsBar:{type:Boolean,default:!0},watchRealTime:{type:Boolean,default:!1},weekNumbers:{type:Boolean,default:!1},xs:{type:Boolean,default:!1}},ra={class:"vuecal__header"},oa={key:0,class:"vuecal__views-bar"},ia=["onClick","innerHTML"],ua={key:1,class:"vuecal__title-bar"},ca={class:"vuecal__transition-wrap"},da=["disabled","innerHTML"],va={__name:"header",setup(c){const e=Fe("vuecal"),{view:t,config:a}=e,s=()=>{a.clickToNavigate&&t.broader()},r=V(()=>a.clickToNavigate?{click:s}:{});return(g,f)=>(j(),R("div",ra,[I(g.$slots,"header",{view:x(t),availableViews:x(a).availableViews,vuecal:x(e)}),g.$slots.header?q("",!0):(j(),R(ce,{key:0},[x(a).viewsBar?(j(),R("div",oa,[(j(!0),R(ce,null,we(x(a).availableViews,(_,v)=>(j(),R("button",{class:pe(["vuecal__view-button",{"vuecal__view-button--active":x(t).id===v}]),onClick:l=>x(t).switch(v),innerHTML:x(e).texts[v],type:"button"},null,10,ia))),256))])):q("",!0),x(a).titleBar?(j(),R("nav",ua,[me("button",{class:pe(["vuecal__nav vuecal__nav--prev",{"vuecal__nav--default":!g.$slots["previous-button"]}]),onClick:f[0]||(f[0]=(..._)=>x(t).previous&&x(t).previous(..._)),type:"button"},[I(g.$slots,"previous-button")],2),me("div",ca,[je(Ze,{name:`vuecal-slide-fade--${x(t).transitionDirection}`},{default:z(()=>[(j(),R("div",{key:x(t).id+x(t).start.getTime()},[g.$slots.title||g.$slots[`title.${x(t).id}`]?(j(),Ve(ft(x(a).clickToNavigate&&x(t).broaderView?"button":"div"),re({key:0,class:"vuecal__title"},qe(r.value)),{default:z(()=>[g.$slots[`title.${x(t).id}`]?I(g.$slots,`title.${x(t).id}`,te(re({key:0},x(t)))):I(g.$slots,"title",te(re({key:1},x(t))))]),_:3},16)):(j(),Ve(ft(x(a).clickToNavigate&&x(t).broaderView?"button":"div"),re({key:1,class:"vuecal__title"},qe(r.value),{innerHTML:x(t).title}),null,16,["innerHTML"]))]))]),_:3},8,["name"])]),x(a).todayButton?(j(),R(ce,{key:0},[g.$slots["today-button"]?I(g.$slots,"today-button",{key:0,navigate:()=>!x(t).containsToday&&x(t).goToToday(),active:x(t).containsToday}):(j(),R("button",{key:1,class:pe(["vuecal__nav vuecal__nav--today vuecal__nav--default",{"vuecal__nav--active":x(t).containsToday}]),onClick:f[1]||(f[1]=_=>!x(t).containsToday&&x(t).goToToday()),disabled:!!x(t).containsToday,type:"button",innerHTML:x(e).texts.today},null,10,da))],64)):q("",!0),me("button",{class:pe(["vuecal__nav vuecal__nav--next",{"vuecal__nav--default":!g.$slots["next-button"]}]),onClick:f[2]||(f[2]=(..._)=>x(t).next&&x(t).next(..._)),type:"button"},[I(g.$slots,"next-button")],2)])):q("",!0)],64))]))}},fa=["draggable"],ga={class:"vuecal__event-details"},ma={class:"vuecal__event-title"},ha={key:0,class:"vuecal__event-time"},ya={key:0,class:"vuecal__event-comma"},_a={class:"vuecal__event-start"},pa={key:1,class:"vuecal__event-end"},Da=["innerHTML"],yt={__name:"event",props:{event:{type:Object,required:!0},inAllDayBar:{type:Boolean,default:!1}},emits:["event-drag-start","event-drag-end","event-resize-start","event-resize-end"],setup(c,{emit:e}){const{config:t,view:a,dnd:s,touch:r,dateUtils:g}=Fe("vuecal"),f=c,_=ie(null),v=Oe(f.event),l=Oe({dragging:!1,resizing:!1,fromResizer:!1,holding:!1,holdTimer:null,startX:0,startY:0,startPercentageX:0,startPercentageY:0,moveX:0,moveY:0,movePercentageX:0,movePercentageY:0,resizeStartDate:null,resizingOriginalEvent:null,resizingLastAcceptedEvent:null,cellEl:null,schedule:null}),o=V(()=>t.editableEvents.drag&&v.draggable!==!1&&!v.background),y=V(()=>a.isMonth||a.isYear||a.isYears||f.inAllDayBar?!1:t.time&&t.editableEvents.resize&&v.resizable!==!1&&!v.background);V(()=>t.editableEvents.delete&&v.deletable!==!1&&!v.background);const n=V(()=>{var $,E,C,k,T;return{[`vuecal__event--${v._.id}`]:!0,[v.class]:!!v.class,"vuecal__event--recurring":!!v.recurring,"vuecal__event--background":!!v.background,"vuecal__event--all-day":v.allDay||(($=v._)==null?void 0:$.startMinutes)===0&&((E=v._)==null?void 0:E.duration)===24*60,"vuecal__event--multiday":!!((C=v._)!=null&&C.multiday),"vuecal__event--cut-top":!f.inAllDayBar&&((k=v._)==null?void 0:k.startMinutes)<t.timeFrom,"vuecal__event--cut-bottom":!f.inAllDayBar&&((T=v._)==null?void 0:T.endMinutes)>t.timeTo||v._.multiday,"vuecal__event--dragging":!v._.draggingGhost&&v._.dragging,"vuecal__event--dragging-ghost":v._.draggingGhost,"vuecal__event--resizing":l.resizing}}),w=V(()=>{const $=(a.isDay||a.isDays||a.isWeek)&&t.time&&!f.inAllDayBar;if(!$&&!v.backgroundColor&&!v.color)return!1;const E={backgroundColor:v.backgroundColor||null,color:v.color||null};if($){const C=Math.max(t.timeFrom,v._.startMinutes),k=Math.min(t.timeTo,v._.endMinutes)+(v._.duration&&!v._.endMinutes?24*60:0),T=Ie(C,t),M=Ie(k,t)-T;E.top=`${T}%`,E.height=`${M}%`}return E}),i=V(()=>{const $={...t.eventListeners.event};for(const[k,T]of Object.entries($))["resize-end"].includes(k)||($[k]=M=>{M.type!=="drop"&&T(M.type?{e:M,event:v}:M)});const E={...$};$.touchstart=k=>{var T;k.stopPropagation(),u(k),(T=E.touchstart)==null||T.call(E,{e:k,event:v})},$.mousedown=k=>{var T;k.stopPropagation(),u(k),(T=E.mousedown)==null||T.call(E,{e:k,event:v})};let C=null;return $.click=k=>{var T;(T=E.click)==null||T.call(E,{e:k,event:v}),C?C=clearTimeout(C):C=setTimeout(()=>{var M;C=null,(M=E["delayed-click"])==null||M.call(E,{e:k,event:v})},400)},$.dblclick=k=>{E.dblclick?E.dblclick({e:k,event:v}):v.delete(1)},$}),u=$=>{var E,C,k;const T=((E=$.touches)==null?void 0:E[0])||$;l.fromResizer=T.target.matches(".vuecal__event-resizer, .vuecal__event-resizer *");const M=_.value.getBoundingClientRect();l.startX=(((C=$.touches)==null?void 0:C[0])||$).clientX-M.left,l.startY=(((k=$.touches)==null?void 0:k[0])||$).clientY-M.top,l.startPercentageX=l.startX*100/M.width,l.startPercentageY=l.startY*100/M.height,l.cellEl=_.value.closest(".vuecal__cell"),l.resizeStartDate=v.start,X($.type==="touchstart"?"touchmove":"mousemove",O),X($.type==="touchstart"?"touchend":"mouseup",D,{once:!0}),l.holdTimer=setTimeout(()=>{var m,N;l.holding=!0,(N=(m=i.value).hold)==null||N.call(m,{e:$,event:v})},1e3)},O=async $=>{var E,C,k,T;const M=((E=$.touches)==null?void 0:E[0])||$;if(l.fromResizer&&!l.resizing&&(l.resizing=!0,l.resizingOriginalEvent={...v,_:{...v._}},r.isResizingEvent=!0,(k=(C=i.value).resizeStart)==null||k.call(C,{e:$,event:v})),l.holdTimer=clearTimeout(l.holdTimer),l.holding=!1,l.cellEl){const{top:m,left:N,width:ee,height:ae}=l.cellEl.getBoundingClientRect();l.moveX=M.clientX-N,l.moveY=M.clientY-m,l.movePercentageX=l.moveX*100/ee,l.movePercentageY=l.moveY*100/ae}if(l.fromResizer){const{newStart:m,newEnd:N}=A(v);let ee=!0;const{resize:ae}=(T=t.eventListeners)==null?void 0:T.event;ae&&(ee=await ae({e:$,event:{...v,start:m,end:N},overlaps:v.getOverlappingEvents({start:m,end:N})})),ee!==!1?(v.start=m,v.end=N,l.resizingLastAcceptedEvent&&(l.resizingLastAcceptedEvent=null)):ae&&(l.resizingLastAcceptedEvent={...v,_:{...v._}})}},D=async $=>{var E,C;if(l.holdTimer=clearTimeout(l.holdTimer),l.holding=!1,l.resizing){const{newStart:k,newEnd:T}=A(v);let M=!0;const m=i.value["resize-end"];m&&(M=await m({e:$,event:v,original:l.resizingOriginalEvent,overlaps:v.getOverlappingEvents({start:k,end:T})})),v.start=M===!1?(l.resizingLastAcceptedEvent||l.resizingOriginalEvent).start:((E=l.resizingLastAcceptedEvent)==null?void 0:E.start)||k,v.end=M===!1?(l.resizingLastAcceptedEvent||l.resizingOriginalEvent).end:((C=l.resizingLastAcceptedEvent)==null?void 0:C.end)||T,v._.duration<1&&(v.start=l.resizingOriginalEvent.start,v.end=l.resizingOriginalEvent.end),r.isResizingEvent=!1}document.removeEventListener($.type==="touchend"?"touchmove":"mousemove",O),l.resizing=!1,l.fromResizer=!1,l.dragging=!1,l.startX=0,l.startY=0,l.moveX=0,l.moveY=0,l.startPercentageX=0,l.startPercentageY=0,l.movePercentageX=0,l.movePercentageY=0,l.cellEl=null,l.resizeStartDate=null,l.resizingOriginalEvent=null,l.resizingLastAcceptedEvent=null,l.schedule=null},A=$=>{const E=new Date($.start.getFullYear(),$.start.getMonth(),$.start.getDate());new Date(E).setDate(E.getDate()+1);let C=Re(l.movePercentageY,t);if(C=Math.max(0,Math.min(C,24*60)),t.snapToInterval){const M=C+t.snapToInterval/2;C=M-M%t.snapToInterval}let k=$.start,T=new Date(E.getTime()+C*6e4);return T<l.resizeStartDate&&(k=T,T=l.resizeStartDate),{newStart:k,newEnd:T}},F=[],X=($,E,C)=>{document.addEventListener($,E,C),F.push({event:$,handler:E,options:C})};return We(()=>v._.register(_.value)),Xe(()=>{v._.unregister();for(const{event:$,handler:E,options:C}of F)document.removeEventListener($,E,C)}),($,E)=>(j(),R("div",re({class:"vuecal__event"},qe(i.value,!0),{ref_key:"eventEl",ref:_,class:n.value,style:w.value,draggable:o.value?"true":void 0,onDragstart:E[2]||(E[2]=C=>o.value&&x(s).eventDragStart(C,v)),onDragend:E[3]||(E[3]=C=>o.value&&x(s).eventDragEnd(C,v))}),[me("div",ga,[$.$slots["event.all-day"]?I($.$slots,"event.all-day",{key:0,event:v}):$.$slots[`event.${x(a).id}`]?I($.$slots,`event.${x(a).id}`,{key:1,event:v}):I($.$slots,"event",{key:2,event:v},()=>[me("div",ma,ve(v.title),1),x(t).time&&!c.inAllDayBar?(j(),R("div",ha,[x(a).isMonth?(j(),R("span",ya,",")):q("",!0),me("span",_a,ve(v._[`startTimeFormatted${x(t).twelveHour?12:24}`]),1),x(a).isMonth?q("",!0):(j(),R("span",pa,"Â - "+ve(v._[`endTimeFormatted${x(t).twelveHour?12:24}`]),1))])):q("",!0),c.inAllDayBar?q("",!0):(j(),R("div",{key:1,class:"vuecal__event-content",innerHTML:v.content},null,8,Da))])]),y.value?(j(),R("div",{key:0,class:"vuecal__event-resizer",onDragstart:E[0]||(E[0]=mt(()=>{},["prevent","stop"]))},null,32)):q("",!0),je(Ze,{name:"vuecal-delete-btn"},{default:z(()=>[v._.deleting?(j(),R("div",{key:0,class:"vuecal__event-delete",onClick:E[1]||(E[1]=mt(C=>v.delete(3),["stop"]))},"Delete")):q("",!0)]),_:1})],16,fa))}},wa=["innerHTML"],ba=["data-schedule"],ka={key:1,class:"vuecal__cell-date"},Ta={key:2,class:"vuecal__cell-content"},$a={key:3,class:"vuecal__cell-events"},Ea={key:1,class:"vuecal__cell-date"},Ma={key:2,class:"vuecal__cell-content"},Oa={key:3,class:"vuecal__cell-events"},Sa={key:5,class:"vuecal__cell-events-count"},xa=["title"],It={__name:"cell",props:{start:{type:Date,required:!0},end:{type:Date,required:!0},index:{type:Number,required:!0},allDay:{type:Boolean,default:!1}},setup(c){const e=c,t=Fe("vuecal"),{view:a,config:s,dateUtils:r,eventsManager:g,dnd:f,touch:_}=t,v=V(()=>r.isToday(e.start)),l=ie(null),o=ie([]),y=ie(!1),n=h=>{o.value.push(h.detail),y.value=!0},w=()=>setTimeout(()=>y.value=!1,300),i=Oe({dragging:!1,holding:!1,holdTimer:null,thresholdPassed:!1,startX:0,startY:0,moveX:0,moveY:0,startPercentageX:0,startPercentageY:0,movePercentageX:0,movePercentageY:0,schedule:null}),u=ie(!1),O=ie({cellOverlaps:{},longestStreak:0}),D=V(()=>{let h=Math.min(i.startPercentageY,i.movePercentageY),L=Math.max(i.startPercentageY,i.movePercentageY),P=Re(h,s),Y=Re(L,s);return s.snapToInterval&&(P=r.snapToInterval(P,s.snapToInterval),Y=r.snapToInterval(Y,s.snapToInterval),h=Ie(P,s),L=Ie(Y,s)),{style:{top:`${h}%`,height:`${Math.abs(L-h)}%`},startMinutes:P,endMinutes:Y,start:r.formatMinutes(P),end:r.formatMinutes(Y),...i.schedule?{schedule:i.schedule}:{}}}),A=V(()=>{const h=s.editableEvents.create&&(i.dragging||u.value),L=s.eventCreateMinDrag&&i.thresholdPassed||!s.eventCreateMinDrag;return h&&L}),F=V(()=>{var h;const L=new Date,P=a.start.getFullYear(),Y=a.start.getMonth(),H=e.start.getFullYear(),K=e.start.getMonth();return{[`vuecal__cell--${Ge[e.start.getDay()]}`]:a.isDay||a.isDays||a.isWeek||a.isMonth,[`vuecal__cell--${qt[K]}`]:a.isYear,[`vuecal__cell--${H}`]:a.isYears,"vuecal__cell--today":v.value,"vuecal__cell--current-month":a.isYear&&H===L.getFullYear()&&K===L.getMonth(),"vuecal__cell--current-year":a.isYears&&H===L.getFullYear(),"vuecal__cell--out-of-range":a.isMonth&&(H!==P||K!==Y),"vuecal__cell--before-min":ae.value&&N.value,"vuecal__cell--after-max":ae.value&&ee.value,"vuecal__cell--disabled":ae.value,"vuecal__cell--selected":a.selectedDate&&a.selectedDate.getTime()>=e.start.getTime()&&a.selectedDate.getTime()<=e.end.getTime(),"vuecal__cell--has-schedules":(h=s.schedules)==null?void 0:h.length,"vuecal__cell--dragging":i.dragging,"vuecal__cell--has-events":$.value.length}});V(()=>r.formatDate(e.start));const X=V(()=>{switch(a.id){case"day":return"";case"days":return s.availableViews.days.rows>1&&r.formatDate(e.start,"D"),"";case"week":return"";case"month":return r.formatDate(e.start,"D");case"year":return r.formatDate(e.start,s.xs?"MMM":"MMMM");case"years":return r.formatDate(e.start,"YYYY")}}),$=V(()=>s.datePicker?[]:g.getEventsInRange(e.start,e.end,{excludeIds:o.value,...s.allDayEvents?{allDay:e.allDay}:{}})),E=V(()=>$.value.filter(h=>!h.background)),C=V(()=>{var h;return(h=s.schedules)==null?void 0:h.reduce((L,P)=>(L[P.id]=$.value.filter(Y=>Y.schedule===P.id),L),{})}),k=V(()=>{if(a.isMonth||a.isYear||a.isYears||e.allDay)return{};const h={};for(const L of $.value){const P=L._.id,{maxConcurrent:Y=1,position:H=0}=O.value.cellOverlaps[P]||{};h[P]={left:`${100/Y*H}%`},s.stackEvents?h[P].width=`${100/Y+(H===Y-1?0:15)}%`:h[P].width=`${100/Y}%`}return h}),T=V(()=>{const h={};for(const L of $.value){const P=L._.id,{maxConcurrent:Y=1,position:H=0}=O.value.cellOverlaps[P]||{};h[P]=`vuecal__event--stack-${H+1}-${Y}`}return h}),M=V(()=>s.showCellEventCount&&E.value.length),m=V(()=>{var h;if(!s.specialHours||a.isMonth||a.isYear||a.isYears||e.allDay)return;const L=Ge[e.start.getDay()];let P=(h=s.specialHours)==null?void 0:h[L];if(P)return Array.isArray(P)||(P=[P]),P.map(Y=>{let{from:H,to:K,class:ge,label:he}=Y;if(isNaN(H)||isNaN(K)||s.timeFrom>=K||s.timeTo<=H)return;H=Math.max(s.timeFrom,H),K=Math.min(s.timeTo,K);const p=Ie(H,s),W=Ie(K,s)-p;return{style:{top:`${p}%`,height:`${W}%`},label:he,class:ge}}).filter(Y=>!!Y)}),N=V(()=>s.minTimestamp!==null&&s.minTimestamp>e.end.getTime()),ee=V(()=>s.maxTimestamp&&s.maxTimestamp<e.start.getTime()),ae=V(()=>{const{disableDays:h}=s,L=a.isYear||a.isYears;return h.length&&h.includes(r.formatDate(e.start))&&!L?!0:N.value||ee.value}),se=Oe({show:V(()=>{if(!(!a.isDay&&!a.isDays&&!a.isWeek)&&!(!v.value||!s.time||e.allDay)&&!(s.timeFrom>r.dateToMinutes(a.now))&&!(r.dateToMinutes(a.now)>s.timeTo))return!0}),nowInMinutes:V(()=>r.dateToMinutes(a.now)),todaysTimePosition:V(()=>Ie(se.nowInMinutes,s)),style:V(()=>`top: ${se.todaysTimePosition}%`),currentTime:V(()=>r.formatTime(a.now))}),fe=V(()=>{if(ae.value)return{};const h={...s.eventListeners.cell};for(const[Y,H]of Object.entries(h))h[Y]=K=>{var ge,he,p;(p=(he=K.target||((ge=K.e)==null?void 0:ge.target)).closest)!=null&&p.call(he,".vuecal__event")||H(K.type?{e:K,cell:Q.value,cursor:J.value}:K)};const L={...h};let P=null;return h.click=Y=>{var H;de();const K=Pe(Y);(H=L.click)==null||H.call(L,{e:Y,cell:Q.value,cursor:K}),P?P=clearTimeout(P):P=setTimeout(()=>{var ge;P=null,(ge=L["delayed-click"])==null||ge.call(L,{e:Y,cell:Q.value,cursor:K})},400)},(s.time&&a.isDay||a.isDays||a.isWeek)&&(h.touchstart=Y=>{var H;d(Y.e||Y),(H=L.touchstart)==null||H.call(L,{e:Y,cell:Q.value,cursor:J.value})},h.mousedown=Y=>{var H;d(Y.e||Y),(H=L.mousedown)==null||H.call(L,{e:Y,cell:Q.value,cursor:J.value})}),L.dblclick&&(h.dblclick=Y=>{var H;(H=L.dblclick)==null||H.call(L,{e:Y,cell:Q.value,cursor:Pe(Y)})}),s.editableEvents.drag&&(h.dragenter=Y=>f.cellDragEnter(Y,Q.value),h.dragover=Y=>{Y.preventDefault(),f.cellDragOver(Y,Q.value)},h.dragleave=Y=>f.cellDragLeave(Y,Q.value),h.drop=Y=>f.cellDragDrop(Y,Q.value,e.allDay)),h}),Q=V(()=>({start:e.start,end:e.end,events:$,...i.schedule?{schedule:i.schedule}:{},goNarrower:()=>a.narrower(),goBroader:()=>a.broader(),broader:a.broaderView,narrower:a.narrowerView})),Pe=h=>{var L;const P=(((L=h.touches)==null?void 0:L[0])||h).clientY,{top:Y}=l.value.getBoundingClientRect(),H=ct(P-Y,l.value),K=new Date(e.start);return K.setMinutes(Re(H,s)),{y:H,date:K}},J=V(()=>{const h=Re(i.movePercentageY||i.startPercentageY,s),L=new Date(e.start);return L.setMinutes(h),{x:i.movePercentageX||i.startPercentageX,y:i.movePercentageY||i.startPercentageY,date:L}}),de=()=>{a.updateSelectedDate(e.start),s.clickToNavigate&&((a.isMonth||a.isDays||a.isWeek)&&s.availableViews.day?a.switch("day"):a.isYear&&s.availableViews.month?a.switch("month"):a.isYears&&s.availableViews.year&&a.switch("year")),a.updateViewDate(e.start)},d=h=>{var L,P;i.schedule=~~h.target.dataset.schedule;const Y=l.value.getBoundingClientRect();i.startX=(((L=h.touches)==null?void 0:L[0])||h).clientX-Y.left,i.startY=(((P=h.touches)==null?void 0:P[0])||h).clientY-Y.top,i.startPercentageX=i.startX*100/Y.width,i.startPercentageY=i.startY*100/Y.height,i.thresholdPassed=!1,document.addEventListener(h.type==="touchstart"?"touchmove":"mousemove",S),document.addEventListener(h.type==="touchstart"?"touchend":"mouseup",b,{once:!0}),i.holdTimer=setTimeout(()=>{var H,K;i.holding=!0,(K=(H=fe.value).hold)==null||K.call(H,{e:h,cell:Q.value,cursor:J.value})},1e3)},S=h=>{var L,P,Y,H,K,ge;i.dragging||(_.isDraggingCell=!0,(P=(L=fe.value)["drag-start"])==null||P.call(L,{e:h,cell:Q.value,cursor:J.value})),i.dragging=!0,i.holdTimer=clearTimeout(i.holdTimer),i.holding=!1;const he=l.value.getBoundingClientRect();i.moveX=(((Y=h.touches)==null?void 0:Y[0])||h).clientX-he.left,i.moveY=(((H=h.touches)==null?void 0:H[0])||h).clientY-he.top,i.movePercentageX=i.moveX*100/he.width,i.movePercentageY=i.moveY*100/he.height,s.eventCreateMinDrag&&Math.abs(i.startY-i.moveY)>s.eventCreateMinDrag&&(i.thresholdPassed=!0),(ge=(K=fe.value).drag)==null||ge.call(K,{e:h,cell:Q.value,cursor:J.value})},b=async h=>{var L,P;document.removeEventListener(h.type==="touchend"?"touchmove":"mousemove",S,{passive:!1}),i.dragging&&((P=(L=fe.value)["drag-end"])==null||P.call(L,{e:h,cell:Q.value,cursor:J.value}),_.isDraggingCell=!1,s.editableEvents.create&&(u.value=!0,await B(h),u.value=!1)),i.holdTimer=clearTimeout(i.holdTimer),i.holding=!1,i.dragging=!1,i.startX=0,i.startY=0,i.moveX=0,i.moveY=0,i.startPercentageX=0,i.startPercentageY=0,i.movePercentageX=0,i.movePercentageY=0,i.thresholdPassed=!1,i.schedule=null},B=async h=>{if(!A.value)return;let{start:L,end:P,startMinutes:Y,endMinutes:H}=D.value;L=new Date(e.start),L.setMinutes(Y),P=new Date(e.start),P.setMinutes(H);let K={...D.value,start:L,end:P};const{create:ge}=s.eventListeners.event;if(typeof ge=="function"){const he=K;K=await new Promise(p=>ge({e:h,event:K,cell:Q.value,resolve:p,cursor:J.value})),K&&typeof K=="object"&&a.createEvent(K),K&&typeof K=="boolean"&&a.createEvent(he)}else a.createEvent(K)},le=()=>{var h;for(const L of Object.keys(fe.value))(h=l.value)==null||h.removeEventListener(L,fe.value[L])},ue=()=>{O.value=g.getCellOverlappingEvents(e.start,e.end)};return _e(()=>!a.isYears&&!a.isYear&&E.value.map(h=>`${h._.id}${h.start.getTime()}${h.end.getTime()}`).join(),async()=>{await lt(),ue()},{immediate:!0,flush:"post"}),Xe(async()=>{for(const h of o.value)g.deleteEvent(h,3);le(),await lt()}),(h,L)=>(j(),R("div",re({class:["vuecal__cell",F.value],ref_key:"cellEl",ref:l},qe(fe.value,!0)),[h.$slots.cell?I(h.$slots,"cell",{key:0,cell:Q.value}):q("",!0),m.value?(j(!0),R(ce,{key:1},we(m.value,(P,Y)=>(j(),R("div",{class:pe(["vuecal__special-hours",P.class]),style:Te(P.style),innerHTML:P.label||""},null,14,wa))),256)):q("",!0),!h.$slots.cell&&x(s).schedules?(j(!0),R(ce,{key:2},we(x(s).schedules,P=>(j(),R("div",{class:pe(["vuecal__schedule vuecal__schedule--cell",P.class]),key:P.id,style:Te(P.style||null),"data-schedule":P.id},[h.$slots["cell-events"]?I(h.$slots,"cell-events",{key:0,cell:Q.value}):q("",!0),X.value||h.$slots["cell-date"]?(j(),R("div",ka,[I(h.$slots,"cell-date",{cell:Q.value},()=>[st(ve(X.value),1)])])):q("",!0),h.$slots["cell-content"]?(j(),R("div",Ta,[I(h.$slots,"cell-content",{cell:Q.value})])):q("",!0),h.$slots["cell-events"]&&$.value.length?(j(),R("div",$a,[I(h.$slots,"cell-events",{cell:Q.value})])):$.value.length||y.value?(j(),Ve(gt,{key:4,class:"vuecal__cell-events",name:"vuecal-event-delete",onBeforeLeave:L[0]||(L[0]=Y=>y.value=!0),onAfterLeave:w,tag:"div"},{default:z(()=>[(j(!0),R(ce,null,we(C.value[P.id],Y=>(j(),Ve(yt,{key:Y._.id,event:Y,onEventDeleted:n,"in-all-day-bar":e.allDay,style:Te(k.value[Y._.id])},Ce({_:2},[h.$slots["event.all-day"]&&e.allDay?{name:"event.all-day",fn:z(H=>[I(h.$slots,"event.all-day",re({ref_for:!0},H))]),key:"0"}:void 0,h.$slots[`event.${x(a).id}`]?{name:`event.${x(a).id}`,fn:z(H=>[I(h.$slots,`event.${x(a).id}`,re({ref_for:!0},H))]),key:"1"}:void 0,h.$slots.event?{name:"event",fn:z(H=>[I(h.$slots,"event",re({ref_for:!0},H))]),key:"2"}:void 0]),1032,["event","in-all-day-bar","style"]))),128))]),_:2},1024)):q("",!0),A.value&&i.schedule===P.id&&!e.allDay?(j(),R("div",{key:5,class:"vuecal__event-placeholder",style:Te(D.value.style)},ve(D.value.start)+" - "+ve(D.value.end),5)):q("",!0)],14,ba))),128)):q("",!0),!h.$slots.cell&&!x(s).schedules?(j(),R(ce,{key:3},[h.$slots["cell-events"]?I(h.$slots,"cell-events",{key:0,cell:Q.value}):q("",!0),X.value||h.$slots["cell-date"]?(j(),R("div",Ea,[I(h.$slots,"cell-date",{cell:Q.value},()=>[st(ve(X.value),1)])])):q("",!0),h.$slots["cell-content"]?(j(),R("div",Ma,[I(h.$slots,"cell-content",{cell:Q.value})])):q("",!0),h.$slots["cell-events"]&&$.value.length?(j(),R("div",Oa,[I(h.$slots,"cell-events",{cell:Q.value})])):!(x(a).isMonth&&!x(s).eventsOnMonthView)&&!x(a).isYear&&!x(a).isYears&&($.value.length||y.value)?(j(),Ve(gt,{key:4,class:"vuecal__cell-events",name:"vuecal-event-delete",onBeforeLeave:L[1]||(L[1]=P=>y.value=!0),onAfterLeave:w,tag:"div"},{default:z(()=>[(j(!0),R(ce,null,we($.value,P=>(j(),Ve(yt,{key:P._.id,event:P,onEventDeleted:n,"in-all-day-bar":e.allDay,class:pe(T.value[P._.id]),style:Te(k.value[P._.id])},Ce({_:2},[h.$slots["event.all-day"]&&e.allDay?{name:"event.all-day",fn:z(Y=>[I(h.$slots,"event.all-day",re({ref_for:!0},Y))]),key:"0"}:void 0,h.$slots[`event.${x(a).id}`]?{name:`event.${x(a).id}`,fn:z(Y=>[I(h.$slots,`event.${x(a).id}`,re({ref_for:!0},Y))]),key:"1"}:void 0,h.$slots.event?{name:"event",fn:z(Y=>[I(h.$slots,"event",re({ref_for:!0},Y))]),key:"2"}:void 0]),1032,["event","in-all-day-bar","class","style"]))),128))]),_:3})):q("",!0),A.value?(j(),R("div",{key:5,class:"vuecal__event-placeholder",style:Te(D.value.style)},ve(D.value.start)+" - "+ve(D.value.end),5)):q("",!0)],64)):q("",!0),h.$slots["event-count"]?I(h.$slots,"event-count",{key:4,events:E.value}):M.value?(j(),R("div",Sa,ve(E.value.length),1)):q("",!0),se.show?(j(),R("div",{key:6,class:"vuecal__now-line",style:Te(se.style),title:se.currentTime},[me("span",null,ve(se.currentTime),1)],12,xa)):q("",!0)],16))}},Ya={key:0,class:"vuecal__headings"},Va={key:0,class:"vuecal__weekdays-headings"},Pa=["onClick"],ja={class:"vuecal__weekday-day"},Ca={key:0,class:"vuecal__weekday-date"},Aa={key:1,class:"vuecal__schedules-headings w-flex grow"},Ia=["innerHTML"],La={key:2,class:"vuecal__all-day w-flex grow"},Ra={__name:"headings-bar",setup(c){const e=Fe("vuecal"),t=Fe("$vuecalEl"),{view:a,config:s,dateUtils:r}=e,g=V(()=>s.xs?"day-xs":s.sm||a.isDays||a.isMonth?"day-sm":"day"),f=V(()=>(a.isDay||a.isDays||a.isWeek||a.isMonth)&&!(a.isDay&&!s.schedules&&!s.allDayEvents)),_=V(()=>a.cellDates.slice(0,a.cols).map(({start:o})=>({id:Ge[o.getDay()],date:o,dateNumber:o.getDate(),day:r.formatDate(o,"dddd"),"day-sm":r.formatDate(o,"ddd"),"day-xs":r.formatDate(o,"dd"),isToday:r.isToday(o)}))),v={click:o=>{(a.isDays||a.isWeek)&&a.updateSelectedDate(o)}},l={isResizing:ie(!1),startY:ie(0),initialHeight:ie(0),defaultHeight:25,cleanup(){typeof document<"u"&&(document.removeEventListener("mousemove",l.handleMouseMove),document.removeEventListener("mouseup",l.cleanup),document.removeEventListener("touchmove",l.handleTouchMove,{passive:!1}),document.removeEventListener("touchend",l.cleanup)),l.isResizing.value=!1},startResize(o){var y;this.isResizing.value=!0,this.startY.value=o;const n=(y=t.value)==null?void 0:y.querySelector(".vuecal__all-day");n&&(this.initialHeight.value=n.offsetHeight),document.addEventListener("mousemove",l.handleMouseMove),document.addEventListener("mouseup",l.cleanup),document.addEventListener("touchmove",l.handleTouchMove,{passive:!1}),document.addEventListener("touchend",l.cleanup)},updateHeight(o){var y;if(!this.isResizing.value)return;const n=o-this.startY.value,w=Math.max(20,this.initialHeight.value+n);(y=t.value)==null||y.style.setProperty("--vuecal-all-day-bar-height",`${w}px`)},handleMouseDown(o){this.startResize(o.clientY)},handleMouseMove(o){l.updateHeight(o.clientY)},handleTouchStart(o){var y;(y=o.touches)!=null&&y[0]&&this.startResize(o.touches[0].clientY)},handleTouchMove(o){var y;(y=o.touches)!=null&&y[0]&&(l.updateHeight(o.touches[0].clientY),o.preventDefault())}};return Xe(()=>{l.cleanup()}),(o,y)=>f.value?(j(),R("div",Ya,[x(a).isDay?q("",!0):(j(),R("div",Va,[(j(!0),R(ce,null,we(_.value,(n,w)=>(j(),R("div",{class:pe(["vuecal__weekday",{"vuecal__weekday--today":n.isToday}]),key:w,onClick:i=>v.click(n.date)},[I(o.$slots,"weekday-heading",{label:n[g.value],id:n.id,date:n.date},()=>[me("span",ja,ve(n[g.value]),1),x(a).isMonth?q("",!0):(j(),R("strong",Ca,ve(n.dateNumber),1))])],10,Pa))),128))])),x(s).schedules?(j(),R("div",Aa,[(j(!0),R(ce,null,we(_.value,(n,w)=>(j(),R(ce,{key:w},[(j(!0),R(ce,null,we(x(s).schedules,(i,u)=>(j(),R(ce,{key:u},[o.$slots["schedule-heading"]?(j(),R("div",{key:0,class:pe(["vuecal__schedule vuecal__schedule--heading",i.class])},[I(o.$slots,"schedule-heading",{schedule:i,view:x(a)})],2)):(j(),R("div",{key:1,class:pe(["vuecal__schedule vuecal__schedule--heading",i.class]),innerHTML:i.label},null,10,Ia))],64))),128))],64))),128))])):q("",!0),x(s).allDayEvents?(j(),R("div",La,[(j(!0),R(ce,null,we(_.value,(n,w)=>(j(),Ve(It,{class:pe(["vuecal__all-day-cell",{"vuecal__weekday--today":n.isToday}]),key:w,start:n.date,end:new Date(n.date.getTime()+24*60*60*1e3-1),index:w,"all-day":""},Ce({_:2},[o.$slots["event.all-day"]?{name:"event.all-day",fn:z(i=>[I(o.$slots,"event.all-day",re({ref_for:!0},i))]),key:"0"}:{name:"event",fn:z(i=>[I(o.$slots,"event",re({ref_for:!0},i))]),key:"1"}]),1032,["class","start","end","index"]))),128)),me("div",{class:"vuecal__all-day-resizer",onMousedown:y[0]||(y[0]=(...n)=>l.handleMouseDown&&l.handleMouseDown(...n)),onTouchstart:y[1]||(y[1]=(...n)=>l.handleTouchStart&&l.handleTouchStart(...n))},null,32)])):q("",!0)])):q("",!0)}},Fa={class:"vuecal__time-column"},Ha={key:0,class:"vuecal__all-day-label"},za={__name:"time-column",setup(c){const e=Fe("vuecal"),{config:t,texts:a}=e,s=V(()=>{const r=[];for(let g=t.timeFrom;g<t.timeTo;g+=t.timeStep){const f=g+t.timeStep>t.timeTo,_=~~(g/60),v=g%60,l=a[g<720?"am":"pm"];let o=null;f&&(o=`calc(var(--vuecal-time-cell-height) * ${(t.timeTo-g)/t.timeStep})`),r.push({minutesSum:g,hours:_,minutes:v,formatted12:`${_%12?_%12:12}${v?`:${v.toString().padStart(2,0)}`:""}${l}`,formatted24:`${_.toString().padStart(2,0)}:${v.toString().padStart(2,0)}`,height:o})}return r});return(r,g)=>(j(),R("div",Fa,[x(t).allDayEvents?(j(),R("div",Ha,[I(r.$slots,"all-day-label",{},()=>[st(ve(x(e).texts.allDay),1)])])):q("",!0),(j(!0),R(ce,null,we(s.value,(f,_)=>(j(),R("div",{class:"vuecal__time-cell",key:_,style:Te({height:f.height||null})},[I(r.$slots,"time-cell",{index:_,minutes:f.minutes,hours:f.hours,minutesSum:f.minutesSum,format12:f.formatted12,format24:f.formatted24},()=>[me("label",null,ve(x(t).twelveHour?f.formatted12:f.formatted24),1)])],4))),128))]))}},Na={__name:"body",setup(c){const e=Fe("vuecal"),{view:t,config:a,dateUtils:s}=e,r=ie(null),g=ie(null),f=V(()=>({"--vuecal-grid-columns":t.cols,"--vuecal-grid-rows":t.rows})),_=V(()=>{const o=s.formatTime(Re(g.value,a));return{style:{top:`${g.value}%`},time:o}}),v=o=>{var y;if(t.isMonth||t.isYear||t.isYears)return;const n=(((y=o.touches)==null?void 0:y[0])||o).clientY,{top:w}=r.value.getBoundingClientRect();g.value=ct(n-w,r.value)},l=()=>{g.value=null};return We(()=>{r.value.addEventListener("mousemove",v),r.value.addEventListener("touchmove",v),r.value.addEventListener("mouseleave",l),r.value.addEventListener("touchend",l)}),Xe(()=>{r.value&&(r.value.removeEventListener("mousemove",v),r.value.removeEventListener("touchmove",v),r.value.removeEventListener("mouseleave",l),r.value.removeEventListener("touchend",l))}),(o,y)=>(j(),R("div",{class:"vuecal__body",ref_key:"bodyEl",ref:r,style:Te(f.value)},[je(Ze,{name:"vuecal-shrink"},{default:z(()=>[x(a).timeAtCursor&&g.value!==null?(j(),R("div",{key:0,class:"vuecal__time-at-cursor",style:Te(_.value.style)},[me("label",null,ve(_.value.time),1)],4)):q("",!0)]),_:1}),(j(!0),R(ce,null,we(x(t).cellDates,(n,w)=>(j(),Ve(It,{key:w,start:n.start,end:n.end,index:w},Ce({_:2},[o.$slots.cell?{name:"cell",fn:z(i=>[I(o.$slots,"cell",re({ref_for:!0},i))]),key:"0"}:void 0,o.$slots["cell-date"]?{name:"cell-date",fn:z(i=>[I(o.$slots,"cell-date",re({ref_for:!0},i))]),key:"1"}:void 0,o.$slots["cell-content"]?{name:"cell-content",fn:z(i=>[I(o.$slots,"cell-content",re({ref_for:!0},i))]),key:"2"}:void 0,o.$slots["cell-events"]?{name:"cell-events",fn:z(i=>[I(o.$slots,"cell-events",re({ref_for:!0},i))]),key:"3"}:void 0,o.$slots[`event.${x(t).id}`]?{name:`event.${x(t).id}`,fn:z(i=>[I(o.$slots,`event.${x(t).id}`,re({ref_for:!0},i))]),key:"4"}:void 0,o.$slots["event.all-day"]?{name:"event.all-day",fn:z(i=>[I(o.$slots,"event.all-day",re({ref_for:!0},i))]),key:"5"}:void 0,o.$slots.event?{name:"event",fn:z(i=>[I(o.$slots,"event",re({ref_for:!0},i))]),key:"6"}:void 0,o.$slots["event-count"]?{name:"event-count",fn:z(i=>[I(o.$slots,"event-count",re({ref_for:!0},i))]),key:"7"}:void 0]),1032,["start","end","index"]))),128))],4))}},Ba=["data-locale"],Wa={class:"vuecal__scrollable-wrap"},Xa={key:1,class:"vuecal__week-numbers"},Ua={class:"vuecal__week-number"},Ka={class:"vuecal__body-wrap"},Qa={__name:"index",props:sa,emits:["ready","view-change","update:view","update:selectedDate","update:viewDate","update:events","event-delete","event-created","event-dropped","event-drag-start","event-drag-end"],setup(c,{expose:e,emit:t}){const a=c,s=t,r=Wt("vuecal-el"),g=na({props:a,emit:s,attrs:Ut(),vuecalEl:r,uid:Xt()}),{config:f,view:_,dateUtils:v,touch:l}=g,o=V(()=>f.time&&(_.isDay||_.isDays||_.isWeek)),y=V(()=>Array(_.rows).fill().map((u,O)=>v.getWeek(v.addDays(_.firstCellDate,7*O)))),n=V(()=>{var u;return{"vuecal--ready":f.ready,[`vuecal--${f.theme}-theme`]:f.theme,[`vuecal--${f.size}`]:!0,"vuecal--date-picker":f.datePicker,"vuecal--dark":f.dark,"vuecal--light":!f.dark,[`vuecal--${_.id}-view`]:!0,"vuecal--view-has-time":o.value,"vuecal--timeless":!f.time,"vuecal--dragging-cell":l.isDraggingCell,"vuecal--dragging-event":l.isDraggingEvent,"vuecal--resizing-event":l.isResizingEvent,"vuecal--has-schedules":(u=f.schedules)==null?void 0:u.length}}),w=V(()=>({"--vuecal-time-cell-height":f.timeCellHeight&&`${f.timeCellHeight}px`})),i=V(()=>{var u,O;return{"vuecal__scrollable--row":o.value||f.weekNumbers&&_.isMonth,[`vuecal__scrollable--${_.id}-view`]:!0,"vuecal__scrollable--has-schedules":(u=f.schedules)==null?void 0:u.length,"vuecal__scrollable--no-schedules":!((O=f.schedules)!=null&&O.length),"vuecal__scrollable--no-all-day-bar":!f.allDayEvents,"vuecal__scrollable--has-all-day-bar":f.allDayEvents}});return We(async()=>{await lt(),f.ready=!0,s("ready",{config:f,view:_})}),vt("vuecal",g),vt("$vuecalEl",r),e({view:g.view}),(u,O)=>(j(),R("div",{class:pe(["vuecal",n.value]),ref:"vuecal-el","data-locale":u.locale,style:Te(w.value)},[u.$slots.diy?I(u.$slots,"diy",{key:0,vuecal:x(g)}):(j(),R(ce,{key:1},[je(va,null,Ce({_:2},[u.$slots.header?{name:"header",fn:z(D=>[I(u.$slots,"header",te(ne(D)))]),key:"0"}:void 0,!u.$slots.header&&u.$slots["previous-button"]?{name:"previous-button",fn:z(D=>[I(u.$slots,"previous-button",te(ne(D)))]),key:"1"}:void 0,!u.$slots.header&&u.$slots["next-button"]?{name:"next-button",fn:z(D=>[I(u.$slots,"next-button",te(ne(D)))]),key:"2"}:void 0,!u.$slots.header&&u.$slots["today-button"]?{name:"today-button",fn:z(D=>[I(u.$slots,"today-button",te(ne(D)))]),key:"3"}:void 0,!u.$slots.header&&u.$slots.title?{name:"title",fn:z(D=>[I(u.$slots,"title",te(ne(D)))]),key:"4"}:void 0,!u.$slots.header&&u.$slots["title.day"]?{name:"title.day",fn:z(D=>[I(u.$slots,"title.day",te(ne(D)))]),key:"5"}:void 0,!u.$slots.header&&u.$slots["title.days"]?{name:"title.days",fn:z(D=>[I(u.$slots,"title.days",te(ne(D)))]),key:"6"}:void 0,!u.$slots.header&&u.$slots["title.week"]?{name:"title.week",fn:z(D=>[I(u.$slots,"title.week",te(ne(D)))]),key:"7"}:void 0,!u.$slots.header&&u.$slots["title.month"]?{name:"title.month",fn:z(D=>[I(u.$slots,"title.month",te(ne(D)))]),key:"8"}:void 0,!u.$slots.header&&u.$slots["title.year"]?{name:"title.year",fn:z(D=>[I(u.$slots,"title.year",te(ne(D)))]),key:"9"}:void 0,!u.$slots.header&&u.$slots["title.years"]?{name:"title.years",fn:z(D=>[I(u.$slots,"title.years",te(ne(D)))]),key:"10"}:void 0,!u.$slots.header&&u.$slots["schedule-heading"]?{name:"schedule-heading",fn:z(D=>[I(u.$slots,"schedule-heading",te(ne(D)))]),key:"11"}:void 0]),1024),me("div",Wa,[je(Ze,{name:`vuecal-slide-fade--${x(_).transitionDirection}`},{default:z(()=>[(j(),R("div",{class:pe(["vuecal__scrollable",i.value]),key:x(_).id+x(_).start.getTime()},[o.value?(j(),Ve(za,{key:0},Ce({_:2},[u.$slots["time-cell"]?{name:"time-cell",fn:z(D=>[I(u.$slots,"time-cell",te(ne(D)))]),key:"0"}:void 0]),1024)):q("",!0),x(f).weekNumbers&&x(_).isMonth?(j(),R("div",Xa,[(j(!0),R(ce,null,we(y.value,D=>(j(),R("div",Ua,[I(u.$slots,"week-number",{},()=>[me("small",null,ve(D),1)])]))),256))])):q("",!0),me("div",Ka,[je(Ra,null,Ce({_:2},[u.$slots["weekday-heading"]?{name:"weekday-heading",fn:z(D=>[I(u.$slots,"weekday-heading",te(ne(D)))]),key:"0"}:void 0,u.$slots["schedule-heading"]?{name:"schedule-heading",fn:z(D=>[I(u.$slots,"schedule-heading",te(ne(D)))]),key:"1"}:void 0,u.$slots["event.all-day"]?{name:"event.all-day",fn:z(D=>[I(u.$slots,"event.all-day",te(ne(D)))]),key:"2"}:void 0,u.$slots.event?{name:"event",fn:z(D=>[I(u.$slots,"event",te(ne(D)))]),key:"3"}:void 0]),1024),je(Na,null,Ce({_:2},[u.$slots.cell?{name:"cell",fn:z(D=>[I(u.$slots,"cell",te(ne(D)))]),key:"0"}:void 0,!u.$slots.cell&&u.$slots["cell-date"]?{name:"cell-date",fn:z(D=>[I(u.$slots,"cell-date",te(ne(D)))]),key:"1"}:void 0,!u.$slots.cell&&u.$slots["cell-content"]?{name:"cell-content",fn:z(D=>[I(u.$slots,"cell-content",te(ne(D)))]),key:"2"}:void 0,!u.$slots.cell&&u.$slots["cell-events"]?{name:"cell-events",fn:z(D=>[I(u.$slots,"cell-events",te(ne(D)))]),key:"3"}:void 0,!u.$slots.cell&&!u.$slots["cell-events"]&&u.$slots["event.all-day"]?{name:"event.all-day",fn:z(D=>[I(u.$slots,"event.all-day",te(ne(D)))]),key:"4"}:void 0,!u.$slots.cell&&!u.$slots["cell-events"]&&u.$slots[`event.${x(_).id}`]?{name:`event.${x(_).id}`,fn:z(D=>[I(u.$slots,`event.${x(_).id}`,te(ne(D)))]),key:"5"}:void 0,!u.$slots.cell&&!u.$slots["cell-events"]&&u.$slots.event?{name:"event",fn:z(D=>[I(u.$slots,"event",te(ne(D)))]),key:"6"}:void 0,!u.$slots.cell&&u.$slots["event-count"]?{name:"event-count",fn:z(D=>[I(u.$slots,"event-count",te(ne(D)))]),key:"7"}:void 0]),1024)])],2))]),_:3},8,["name"])])],64))],14,Ba))}},{addDatePrototypes:Sn,removeDatePrototypes:xn,updateTexts:Yn,addDays:Vn,subtractDays:Pn,addHours:jn,subtractHours:Cn,addMinutes:An,subtractMinutes:In,getWeek:Ln,isToday:Rn,isSameDate:Fn,isInRange:Hn,isLeapYear:zn,getPreviousFirstDayOfWeek:Nn,stringToDate:Bn,dateToMinutes:Wn,countDays:Xn,datesInSameTimeStep:Un,isValid:Kn,formatDate:Qn,formatDateLite:qn,formatTime:Gn,formatTimeLite:Zn,formatMinutes:Jn}=rt.dateUtils;function qa(){return{getSchedule:(t,a)=>pt.post(route("my-schedules.get"),{start_date:t,end_date:a}).then(s=>(console.log(s),s.data)).catch(s=>(console.log(s),alert("error"),s)),onCellClick:(t,a)=>{console.log("Clicked date:",t.cursor.date),console.log("Events on this date:",a)}}}const Ga=String.prototype.replace,Za=/%20/g,Lt={RFC1738:"RFC1738",RFC3986:"RFC3986"},ot={RFC1738:function(c){return Ga.call(c,Za,"+")},RFC3986:function(c){return String(c)}},Ja=Lt.RFC1738,Rt=Lt.RFC3986,et=Object.prototype.hasOwnProperty,Le=Array.isArray,Ee=function(){const c=[];for(let e=0;e<256;++e)c.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return c}(),en=function(e){for(;e.length>1;){const t=e.pop(),a=t.obj[t.prop];if(Le(a)){const s=[];for(let r=0;r<a.length;++r)typeof a[r]<"u"&&s.push(a[r]);t.obj[t.prop]=s}}},tn=function(e,t){const a=t&&t.plainObjects?Object.create(null):{};for(let s=0;s<e.length;++s)typeof e[s]<"u"&&(a[s]=e[s]);return a},an=function c(e,t,a){if(!t)return e;if(typeof t!="object"){if(Le(e))e.push(t);else if(e&&typeof e=="object")(a&&(a.plainObjects||a.allowPrototypes)||!et.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);let s=e;return Le(e)&&!Le(t)&&(s=tn(e,a)),Le(e)&&Le(t)?(t.forEach(function(r,g){if(et.call(e,g)){const f=e[g];f&&typeof f=="object"&&r&&typeof r=="object"?e[g]=c(f,r,a):e.push(r)}else e[g]=r}),e):Object.keys(t).reduce(function(r,g){const f=t[g];return et.call(r,g)?r[g]=c(r[g],f,a):r[g]=f,r},s)},nn=function(c,e,t){const a=c.replace(/\+/g," ");if(t==="iso-8859-1")return a.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(a)}catch{return a}},tt=1024,ln=function(e,t,a,s,r){if(e.length===0)return e;let g=e;if(typeof e=="symbol"?g=Symbol.prototype.toString.call(e):typeof e!="string"&&(g=String(e)),a==="iso-8859-1")return escape(g).replace(/%u[0-9a-f]{4}/gi,function(_){return"%26%23"+parseInt(_.slice(2),16)+"%3B"});let f="";for(let _=0;_<g.length;_+=tt){const v=g.length>=tt?g.slice(_,_+tt):g,l=[];for(let o=0;o<v.length;++o){let y=v.charCodeAt(o);if(y===45||y===46||y===95||y===126||y>=48&&y<=57||y>=65&&y<=90||y>=97&&y<=122||r===Ja&&(y===40||y===41)){l[l.length]=v.charAt(o);continue}if(y<128){l[l.length]=Ee[y];continue}if(y<2048){l[l.length]=Ee[192|y>>6]+Ee[128|y&63];continue}if(y<55296||y>=57344){l[l.length]=Ee[224|y>>12]+Ee[128|y>>6&63]+Ee[128|y&63];continue}o+=1,y=65536+((y&1023)<<10|v.charCodeAt(o)&1023),l[l.length]=Ee[240|y>>18]+Ee[128|y>>12&63]+Ee[128|y>>6&63]+Ee[128|y&63]}f+=l.join("")}return f},sn=function(e){const t=[{obj:{o:e},prop:"o"}],a=[];for(let s=0;s<t.length;++s){const r=t[s],g=r.obj[r.prop],f=Object.keys(g);for(let _=0;_<f.length;++_){const v=f[_],l=g[v];typeof l=="object"&&l!==null&&a.indexOf(l)===-1&&(t.push({obj:g,prop:v}),a.push(l))}}return en(t),e},rn=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},on=function(e,t){return[].concat(e,t)},it=function(e,t){if(Le(e)){const a=[];for(let s=0;s<e.length;s+=1)a.push(t(e[s]));return a}return t(e)},un=Object.prototype.hasOwnProperty,Ft={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Me=Array.isArray,cn=Array.prototype.push,Ht=function(c,e){cn.apply(c,Me(e)?e:[e])},dn=Date.prototype.toISOString,_t=Rt,oe={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ln,encodeValuesOnly:!1,format:_t,formatter:ot[_t],indices:!1,serializeDate:function(e){return dn.call(e)},skipNulls:!1,strictNullHandling:!1},vn=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},at={},zt=function(e,t,a,s,r,g,f,_,v,l,o,y,n,w,i,u,O,D){let A=e,F=D,X=0,$=!1;for(;(F=F.get(at))!==void 0&&!$;){const M=F.get(e);if(X+=1,typeof M<"u"){if(M===X)throw new RangeError("Cyclic object value");$=!0}typeof F.get(at)>"u"&&(X=0)}if(typeof l=="function"?A=l(t,A):A instanceof Date?A=n(A):a==="comma"&&Me(A)&&(A=it(A,function(M){return M instanceof Date?n(M):M})),A===null){if(g)return v&&!u?v(t,oe.encoder,O,"key",w):t;A=""}if(vn(A)||rn(A)){if(v){const M=u?t:v(t,oe.encoder,O,"key",w);return[i(M)+"="+i(v(A,oe.encoder,O,"value",w))]}return[i(t)+"="+i(String(A))]}const E=[];if(typeof A>"u")return E;let C;if(a==="comma"&&Me(A))u&&v&&(A=it(A,v)),C=[{value:A.length>0?A.join(",")||null:void 0}];else if(Me(l))C=l;else{const M=Object.keys(A);C=o?M.sort(o):M}const k=_?t.replace(/\./g,"%2E"):t,T=s&&Me(A)&&A.length===1?k+"[]":k;if(r&&Me(A)&&A.length===0)return T+"[]";for(let M=0;M<C.length;++M){const m=C[M],N=typeof m=="object"&&typeof m.value<"u"?m.value:A[m];if(f&&N===null)continue;const ee=y&&_?m.replace(/\./g,"%2E"):m,ae=Me(A)?typeof a=="function"?a(T,ee):T:T+(y?"."+ee:"["+ee+"]");D.set(e,X);const se=new WeakMap;se.set(at,D),Ht(E,zt(N,ae,a,s,r,g,f,_,a==="comma"&&u&&Me(A)?null:v,l,o,y,n,w,i,u,O,se))}return E},fn=function(e){if(!e)return oe;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");const t=e.charset||oe.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let a=Rt;if(typeof e.format<"u"){if(!un.call(ot,e.format))throw new TypeError("Unknown format option provided.");a=e.format}const s=ot[a];let r=oe.filter;(typeof e.filter=="function"||Me(e.filter))&&(r=e.filter);let g;if(e.arrayFormat in Ft?g=e.arrayFormat:"indices"in e?g=e.indices?"indices":"repeat":g=oe.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const f=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:oe.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:oe.addQueryPrefix,allowDots:f,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:oe.allowEmptyArrays,arrayFormat:g,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:oe.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?oe.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:oe.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:oe.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:oe.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:oe.encodeValuesOnly,filter:r,format:a,formatter:s,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:oe.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:oe.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:oe.strictNullHandling}};function gn(c,e){let t=c;const a=fn(e);let s,r;typeof a.filter=="function"?(r=a.filter,t=r("",t)):Me(a.filter)&&(r=a.filter,s=r);const g=[];if(typeof t!="object"||t===null)return"";const f=Ft[a.arrayFormat],_=f==="comma"&&a.commaRoundTrip;s||(s=Object.keys(t)),a.sort&&s.sort(a.sort);const v=new WeakMap;for(let y=0;y<s.length;++y){const n=s[y];a.skipNulls&&t[n]===null||Ht(g,zt(t[n],n,f,_,a.allowEmptyArrays,a.strictNullHandling,a.skipNulls,a.encodeDotInKeys,a.encode?a.encoder:null,a.filter,a.sort,a.allowDots,a.serializeDate,a.format,a.formatter,a.encodeValuesOnly,a.charset,v))}const l=g.join(a.delimiter);let o=a.addQueryPrefix===!0?"?":"";return a.charsetSentinel&&(a.charset==="iso-8859-1"?o+="utf8=%26%2310003%3B&":o+="utf8=%E2%9C%93&"),l.length>0?o+l:""}const ut=Object.prototype.hasOwnProperty,mn=Array.isArray,Qe={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:nn,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},hn=function(c){return c.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Nt=function(c,e){return c&&typeof c=="string"&&e.comma&&c.indexOf(",")>-1?c.split(","):c},yn="utf8=%26%2310003%3B",_n="utf8=%E2%9C%93",pn=function(e,t){const a={__proto__:null},s=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,r=t.parameterLimit===1/0?void 0:t.parameterLimit,g=s.split(t.delimiter,r);let f=-1,_,v=t.charset;if(t.charsetSentinel)for(_=0;_<g.length;++_)g[_].indexOf("utf8=")===0&&(g[_]===_n?v="utf-8":g[_]===yn&&(v="iso-8859-1"),f=_,_=g.length);for(_=0;_<g.length;++_){if(_===f)continue;const l=g[_],o=l.indexOf("]="),y=o===-1?l.indexOf("="):o+1;let n,w;y===-1?(n=t.decoder(l,Qe.decoder,v,"key"),w=t.strictNullHandling?null:""):(n=t.decoder(l.slice(0,y),Qe.decoder,v,"key"),w=it(Nt(l.slice(y+1),t),function(u){return t.decoder(u,Qe.decoder,v,"value")})),w&&t.interpretNumericEntities&&v==="iso-8859-1"&&(w=hn(w)),l.indexOf("[]=")>-1&&(w=mn(w)?[w]:w);const i=ut.call(a,n);i&&t.duplicates==="combine"?a[n]=on(a[n],w):(!i||t.duplicates==="last")&&(a[n]=w)}return a},Dn=function(c,e,t,a){let s=a?e:Nt(e,t);for(let r=c.length-1;r>=0;--r){let g;const f=c[r];if(f==="[]"&&t.parseArrays)g=t.allowEmptyArrays&&s===""?[]:[].concat(s);else{g=t.plainObjects?Object.create(null):{};const _=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,v=t.decodeDotInKeys?_.replace(/%2E/g,"."):_,l=parseInt(v,10);!t.parseArrays&&v===""?g={0:s}:!isNaN(l)&&f!==v&&String(l)===v&&l>=0&&t.parseArrays&&l<=t.arrayLimit?(g=[],g[l]=s):v!=="__proto__"&&(g[v]=s)}s=g}return s},wn=function(e,t,a,s){if(!e)return;const r=a.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,g=/(\[[^[\]]*])/,f=/(\[[^[\]]*])/g;let _=a.depth>0&&g.exec(r);const v=_?r.slice(0,_.index):r,l=[];if(v){if(!a.plainObjects&&ut.call(Object.prototype,v)&&!a.allowPrototypes)return;l.push(v)}let o=0;for(;a.depth>0&&(_=f.exec(r))!==null&&o<a.depth;){if(o+=1,!a.plainObjects&&ut.call(Object.prototype,_[1].slice(1,-1))&&!a.allowPrototypes)return;l.push(_[1])}return _&&l.push("["+r.slice(_.index)+"]"),Dn(l,t,a,s)},bn=function(e){return Qe};function kn(c,e){const t=bn();if(c===""||c===null||typeof c>"u")return t.plainObjects?Object.create(null):{};const a=typeof c=="string"?pn(c,t):c;let s=t.plainObjects?Object.create(null):{};const r=Object.keys(a);for(let g=0;g<r.length;++g){const f=r[g],_=wn(f,a[f],t,typeof c=="string");s=an(s,_,t)}return t.allowSparse===!0?s:sn(s)}class nt{constructor(e,t,a){this.name=e,this.definition=t,this.bindings=t.bindings??{},this.wheres=t.wheres??{},this.config=a}get template(){const e=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var e;return((e=this.template.match(/{[^}?]+\??}/g))==null?void 0:e.map(t=>({name:t.replace(/{|\??}/g,""),required:!/\?}$/.test(t)})))??[]}matchesUrl(e){if(!this.definition.methods.includes("GET"))return!1;const t=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(g,f,_,v)=>{var o;const l=`(?<${_}>${((o=this.wheres[_])==null?void 0:o.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return v?`(${f}${l})?`:`${f}${l}`}).replace(/^\w+:\/\//,""),[a,s]=e.replace(/^\w+:\/\//,"").split("?"),r=new RegExp(`^${t}/?$`).exec(a)??new RegExp(`^${t}/?$`).exec(decodeURI(a));if(r){for(const g in r.groups)r.groups[g]=typeof r.groups[g]=="string"?decodeURIComponent(r.groups[g]):r.groups[g];return{params:r.groups,query:kn(s)}}return!1}compile(e){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(a,s,r)=>{if(!r&&[null,void 0].includes(e[s]))throw new Error(`Ziggy error: '${s}' parameter is required for route '${this.name}'.`);if(this.wheres[s]&&!new RegExp(`^${r?`(${this.wheres[s]})?`:this.wheres[s]}$`).test(e[s]??""))throw new Error(`Ziggy error: '${s}' parameter '${e[s]}' does not match required format '${this.wheres[s]}' for route '${this.name}'.`);return encodeURI(e[s]??"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class Tn extends String{constructor(e,t,a=!0,s){if(super(),this._config=s??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),!this._config&&typeof document<"u"&&document.getElementById("ziggy-routes-json")&&(globalThis.Ziggy=JSON.parse(document.getElementById("ziggy-routes-json").textContent),this._config=globalThis.Ziggy),this._config={...this._config,absolute:a},e){if(!this._config.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this._route=new nt(e,this._config.routes[e],this._config),this._params=this._parse(t)}}toString(){const e=Object.keys(this._params).filter(t=>!this._route.parameterSegments.some(({name:a})=>a===t)).filter(t=>t!=="_query").reduce((t,a)=>({...t,[a]:this._params[a]}),{});return this._route.compile(this._params)+gn({...e,...this._params._query},{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,a)=>typeof t=="boolean"?Number(t):a(t)})}_unresolve(e){e?this._config.absolute&&e.startsWith("/")&&(e=this._location().host+e):e=this._currentUrl();let t={};const[a,s]=Object.entries(this._config.routes).find(([r,g])=>t=new nt(r,g,this._config).matchesUrl(e))||[void 0,void 0];return{name:a,...t,route:s}}_currentUrl(){const{host:e,pathname:t,search:a}=this._location();return(this._config.absolute?e+t:t.replace(this._config.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+a}current(e,t){const{name:a,params:s,query:r,route:g}=this._unresolve();if(!e)return a;const f=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(a);if([null,void 0].includes(t)||!f)return f;const _=new nt(a,g,this._config);t=this._parse(t,_);const v={...s,...r};if(Object.values(t).every(o=>!o)&&!Object.values(v).some(o=>o!==void 0))return!0;const l=(o,y)=>Object.entries(o).every(([n,w])=>Array.isArray(w)&&Array.isArray(y[n])?w.every(i=>y[n].includes(i)||y[n].includes(decodeURIComponent(i))):typeof w=="object"&&typeof y[n]=="object"&&w!==null&&y[n]!==null?l(w,y[n]):y[n]==w||y[n]==decodeURIComponent(w));return l(t,v)}_location(){var s,r,g;const{host:e="",pathname:t="",search:a=""}=typeof window<"u"?window.location:{};return{host:((s=this._config.location)==null?void 0:s.host)??e,pathname:((r=this._config.location)==null?void 0:r.pathname)??t,search:((g=this._config.location)==null?void 0:g.search)??a}}get params(){const{params:e,query:t}=this._unresolve();return{...e,...t}}get routeParams(){return this._unresolve().params}get queryParams(){return this._unresolve().query}has(e){return this._config.routes.hasOwnProperty(e)}_parse(e={},t=this._route){e??(e={}),e=["string","number"].includes(typeof e)?[e]:e;const a=t.parameterSegments.filter(({name:s})=>!this._config.defaults[s]);return Array.isArray(e)?e=e.reduce((s,r,g)=>a[g]?{...s,[a[g].name]:r}:typeof r=="object"?{...s,...r}:{...s,[r]:""},{}):a.length===1&&!e[a[0].name]&&(e.hasOwnProperty(Object.values(t.bindings)[0])||e.hasOwnProperty("id"))&&(e={[a[0].name]:e}),{...this._defaults(t),...this._substituteBindings(e,t)}}_defaults(e){return e.parameterSegments.filter(({name:t})=>this._config.defaults[t]).reduce((t,{name:a},s)=>({...t,[a]:this._config.defaults[a]}),{})}_substituteBindings(e,{bindings:t,parameterSegments:a}){return Object.entries(e).reduce((s,[r,g])=>{if(!g||typeof g!="object"||Array.isArray(g)||!a.some(({name:f})=>f===r))return{...s,[r]:g};if(!g.hasOwnProperty(t[r]))if(g.hasOwnProperty("id"))t[r]="id";else throw new Error(`Ziggy error: object passed as '${r}' parameter is missing route model binding key '${t[r]}'.`);return{...s,[r]:g[t[r]]}},{})}valueOf(){return this.toString()}}function $n(c,e,t,a){const s=new Tn(c,e,t,a);return c?s.toString():s}const En={"data-aos":"zoom-in"},el={__name:"Calendar",props:{rawEvents:Array},setup(c){const e=ie([]);We(()=>{Qt.init()});const{onCellClick:t}=qa(),a=r=>{const g=r.start.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"});console.log(g)};We(async()=>{const r=await s();e.value=r,console.log(r)});const s=async()=>pt.get($n("google.auth")).then(r=>r.data).catch(r=>{console.log(r);let g=getErrorStr(r.response.data.errors);return warning(g),r});return(r,g)=>(j(),R("div",En,[je(x(Qa),{onViewChange:a,onCellClick:x(t),events:e.value,"events-on-month-view":"",views:{days:{cols:5,rows:1},month:{}},view:"month"},null,8,["onCellClick","events"])]))}};export{el as default};
