import{a as g}from"./aos-Cd952O-Z.js";import{e as h,V as r,r as t,s as w,c as u,o as v,b as m,i as x}from"./app-C9NaeMsm.js";const b=["src"],k=["src"],E=["src"],$={__name:"VideoPlayer",props:{videos:Array},emits:["video-ended"],setup(f,{emit:p}){const a=f,_=p;h(()=>{g.init(),c(),console.log(r(a.videos.length))});const i=t(null),e=t(0),o=t(r(a.videos[e.value].file_location));w(()=>o.value,(s,n)=>{console.log(e.value),d(o.value)?c():setTimeout(()=>{e.value++,a.videos[e.value]?o.value=a.videos[e.value].file_location:l()},1e3)},{immediate:!0});function y(){_("video-ended",0)}function l(){e.value<a.videos.length-1?(e.value++,o.value=a.videos[e.value].file_location):(e.value=0,o.value=a.videos[0].file_location,y())}function c(){const s=i.value;s&&(s.load(),s.play())}function d(s){const n=["mp4","mov","avi","webm"],V=s.split(".").pop().toLowerCase();return n.includes(V)}return(s,n)=>d(o.value)?(v(),u("video",{key:0,ref_key:"videoRef",ref:i,"data-aos":"zoom-in",class:"w-screen h-screen object-cover",autoplay:"",muted:"",playsinline:"",onEnded:l},[m("source",{src:`/ncca-calendar/medias/${o.value}`,type:"video/mp4"},null,8,b),m("source",{src:`/ncca-calendar/medias/${o.value}`,type:"video/ogg"},null,8,k),n[0]||(n[0]=x(" Your browser does not support the video tag. "))],544)):(v(),u("img",{key:1,src:`/ncca-calendar/medias/${o.value}`,alt:"Media",class:"w-full h-screen object-contain mx-auto block"},null,8,E))}};export{$ as default};
